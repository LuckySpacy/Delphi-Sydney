<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Руководство пользователя Kid3</title>
<style type="text/css">
body { font-family: Arial, Helvetica, sans-serif; color: #000000; background: #ffffff; }
h1, h2, h3, h4 { text-align: left; font-weight: bold; color: #f7800a; background: transparent; }
a:link { color: #0057ae; }
pre { display: block; color: #000000; background: #f9f9f9; border: #2f6fab dashed; border-width: 1px; overflow: auto; line-height: 1.1em; }
dt { font-weight: bold; color: #0057ae; }
p { text-align: justify; }
li { text-align: left; }
.guibutton, .guilabel, .guimenu, .guimenuitem { font-family: Arial, Helvetica, sans-serif; color: #000000; background: #dcdcdc; }
.application { font-weight: bold; }
.command { font-family: "Courier New", Courier, monospace; }
.filename { font-style: italic; }
</style><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><meta name="description" content="Kid3 — это приложение для эффективного редактирования тегов ID3v1 и ID3v2 в MP3-файлах, поддерживающее также теги файлов Ogg/Vorbis, Opus, DSF, FLAC, MPC, APE, MP4/AAC, MP2, Speex, TrueAudio, WavPack, WMA, WAV, AIFF и модулей трекеров (MOD, S3M, IT, XM). Приложение позволяет легко указывать значения для тегов в разных файлах (например, название альбома, исполнителя, год и жанр во всех файлах внутри одного альбома) и создавать теги из имён файлов и наоборот." /><meta name="keywords" content="KDE, kdemultimedia, MP3, ID3, ID3v1, ID3v2, Ogg, Vorbis, FLAC, MPC, APE, Musepack, MP4, M4A, MP2, Speex, TrueAudio, WavPack, WMA, WAV, AIFF, MOD, S3M, IT, XM, Opus, DSF" /></head><body><div xml:lang="ru" class="book" lang="ru"><div class="titlepage"><div><div><h1 class="title"><a id="kid3-handbook"></a>Руководство пользователя <span class="application">Kid3</span></h1></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Urs</span> <span class="surname">Fleisch</span></h3><span class="contrib">Разработка программного обеспечения</span> <div class="affiliation"><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:ufleisch at users.sourceforge.net">ufleisch at users.sourceforge.net</a>&gt;</code></p></div></div></div><div class="othercredit"><h3 class="othercredit"><span class="firstname">Мария</span> <span class="surname">Шикунова</span></h3><span class="contrib">Перевод на русский язык</span> <div class="affiliation"><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:translation-team@basealt.ru">translation-team@basealt.ru</a>&gt;</code></p></div></div></div></div></div><div><p class="releaseinfo">3.8.6</p></div><div><p class="copyright">Авторские права © 2021 Urs Fleisch</p></div><div><div class="legalnotice"><a id="fdl-notice"></a><p><a class="ulink" href="http://www.gnu.org/licenses/licenses.html#FDL" target="_top">FDL</a></p></div></div><div><div class="abstract"><p class="title"><strong>Аннотация</strong></p><p><span class="application">Kid3</span> — это приложение для эффективного редактирования тегов ID3v1 и ID3v2 в MP3-файлах, поддерживающее также теги файлов Ogg/Vorbis, Opus, DSF, FLAC, MPC, APE, MP4/AAC, MP2, Speex, TrueAudio, WavPack, WMA, WAV, AIFF и модулей трекеров (MOD, S3M, IT, XM). Приложение позволяет легко указывать значения для тегов в разных файлах (например, название альбома, исполнителя, год и жанр во всех файлах внутри одного альбома) и создавать теги из имён файлов и наоборот. </p></div></div></div><hr /></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="preface"><a href="#synopsis">Обзор</a></span></dt><dt><span class="preface"><a href="#options">Параметры</a></span></dt><dd><dl><dt><span class="sect1"><a href="#options-kid3">kid3</a></span></dt><dt><span class="sect1"><a href="#options-kid3-qt">kid3-qt</a></span></dt><dt><span class="sect1"><a href="#options-kid3-cli">kid3-cli</a></span></dt></dl></dd><dt><span class="chapter"><a href="#introduction">1. Введение</a></span></dt><dt><span class="chapter"><a href="#using-kid3">2. Работа с <span class="application">Kid3</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#kid3-features">Возможности <span class="application">Kid3</span></a></span></dt><dt><span class="sect1"><a href="#example-usage">Пример использования</a></span></dt></dl></dd><dt><span class="chapter"><a href="#commands">3. Список команд</a></span></dt><dd><dl><dt><span class="sect1"><a href="#gui-elements">Элементы графического интерфейса</a></span></dt><dd><dl><dt><span class="sect2"><a href="#file-list">Список файлов</a></span></dt><dt><span class="sect2"><a href="#edit-playlist">Редактирование списка воспроизведения</a></span></dt><dt><span class="sect2"><a href="#directory-list">Список каталогов</a></span></dt><dt><span class="sect2"><a href="#file">Файл</a></span></dt><dt><span class="sect2"><a href="#tag1">Тег 1</a></span></dt><dt><span class="sect2"><a href="#tag2">Тег 2</a></span></dt><dt><span class="sect2"><a href="#tag3">Тег 3</a></span></dt><dt><span class="sect2"><a href="#frame-list">Список фреймов</a></span></dt><dt><span class="sect2"><a href="#synchronized-lyrics">Синхронизация текста песни с временными кодами событий</a></span></dt></dl></dd><dt><span class="sect1"><a href="#file-menu">Меню «Файл»</a></span></dt><dt><span class="sect1"><a href="#edit-menu">Меню «Правка»</a></span></dt><dt><span class="sect1"><a href="#tools-menu">Меню «Сервис»</a></span></dt><dt><span class="sect1"><a href="#settings-menu">Меню «Настройка»</a></span></dt><dt><span class="sect1"><a href="#help-menu">Меню «Справка»</a></span></dt></dl></dd><dt><span class="chapter"><a href="#kid3-cli">4. kid3-cli</a></span></dt><dd><dl><dt><span class="sect1"><a href="#kid3-cli-commands">Команды</a></span></dt><dd><dl><dt><span class="sect2"><a href="#cli-help">Справка</a></span></dt><dt><span class="sect2"><a href="#cli-timeout">Время ожидания</a></span></dt><dt><span class="sect2"><a href="#cli-exit">Выйти из приложения</a></span></dt><dt><span class="sect2"><a href="#cli-cd">Сменить каталог</a></span></dt><dt><span class="sect2"><a href="#cli-pwd">Показать полное имя текущего каталога</a></span></dt><dt><span class="sect2"><a href="#cli-ls">Список каталогов</a></span></dt><dt><span class="sect2"><a href="#cli-save">Сохранить изменённые файлы</a></span></dt><dt><span class="sect2"><a href="#cli-select">Выбрать файл</a></span></dt><dt><span class="sect2"><a href="#cli-tag">Выбрать тег</a></span></dt><dt><span class="sect2"><a href="#cli-get">Получить фрейм тега</a></span></dt><dt><span class="sect2"><a href="#cli-set">Указать фрейм тега</a></span></dt><dt><span class="sect2"><a href="#cli-revert">Отменить изменения</a></span></dt><dt><span class="sect2"><a href="#cli-import">Импортировать из файла</a></span></dt><dt><span class="sect2"><a href="#cli-autoimport">Автоматический импорт</a></span></dt><dt><span class="sect2"><a href="#cli-albumart">Загрузить обложку</a></span></dt><dt><span class="sect2"><a href="#cli-export">Экспортировать в файл</a></span></dt><dt><span class="sect2"><a href="#cli-playlist">Создать список воспроизведения</a></span></dt><dt><span class="sect2"><a href="#cli-filenameformat">Применить формат имени файла</a></span></dt><dt><span class="sect2"><a href="#cli-tagformat">Применить формат тега</a></span></dt><dt><span class="sect2"><a href="#cli-textencoding">Применить кодировку текста</a></span></dt><dt><span class="sect2"><a href="#cli-renamedir">Переименовать каталог</a></span></dt><dt><span class="sect2"><a href="#cli-numbertracks">Пронумеровать дорожки</a></span></dt><dt><span class="sect2"><a href="#cli-filter">Фильтр</a></span></dt><dt><span class="sect2"><a href="#cli-to24">Преобразовать ID3v2.3 в ID3v2.4</a></span></dt><dt><span class="sect2"><a href="#cli-to23">Преобразовать ID3v2.4 в ID3v2.3</a></span></dt><dt><span class="sect2"><a href="#cli-fromtag">Имя файла из тега</a></span></dt><dt><span class="sect2"><a href="#cli-totag">Тег из имени файла</a></span></dt><dt><span class="sect2"><a href="#cli-syncto">Тег в другой тег</a></span></dt><dt><span class="sect2"><a href="#cli-copy">Копировать</a></span></dt><dt><span class="sect2"><a href="#cli-paste">Вставить</a></span></dt><dt><span class="sect2"><a href="#cli-remove">Убрать</a></span></dt><dt><span class="sect2"><a href="#cli-config">Настроить Kid3</a></span></dt></dl></dd><dt><span class="sect1"><a href="#kid3-cli-examples">Примеры</a></span></dt><dt><span class="sect1"><a href="#kid3-cli-json">Формат <acronym class="acronym">JSON</acronym></a></span></dt></dl></dd><dt><span class="chapter"><a href="#credits">5. Авторские права и лицензия</a></span></dt><dt><span class="appendix"><a href="#installation">A. Установка</a></span></dt><dd><dl><dt><span class="sect1"><a href="#getting-kid3">Как получить <span class="application">Kid3</span></a></span></dt><dt><span class="sect1"><a href="#requirements">Требования</a></span></dt><dt><span class="sect1"><a href="#compilation">Сборка и установка</a></span></dt><dt><span class="sect1"><a href="#configuration">Настройка</a></span></dt></dl></dd><dt><span class="appendix"><a href="#dbus-interface">B. Интерфейс <acronym class="acronym">D-Bus</acronym></a></span></dt><dd><dl><dt><span class="sect1"><a href="#dbus-examples">Примеры <acronym class="acronym">D-Bus</acronym></a></span></dt><dt><span class="sect1"><a href="#dbus-api">Программный интерфейс <acronym class="acronym">D-Bus</acronym></a></span></dt><dd><dl><dt><span class="sect2"><a href="#dbus-openDirectory">Открытие файлов или каталогов</a></span></dt><dt><span class="sect2"><a href="#dbus-unloadAllTags">Выгрузка тегов всех файлов, которые не были изменены или выбраны</a></span></dt><dt><span class="sect2"><a href="#dbus-save">Сохранение всех изменённых файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-getErrorMessage">Получение подробного сообщения об ошибке, предоставляемого некоторыми методами</a></span></dt><dt><span class="sect2"><a href="#dbus-revert">Отмена изменений в выбранных файлах</a></span></dt><dt><span class="sect2"><a href="#dbus-batchImport">Запуск автоматического пакетного импорта</a></span></dt><dt><span class="sect2"><a href="#dbus-importFromFile">Импорт тегов из файла</a></span></dt><dt><span class="sect2"><a href="#dbus-importFromTags">Импорт тегов из других тегов</a></span></dt><dt><span class="sect2"><a href="#dbus-importFromTagsToSelection">Импорт тегов из других тегов выбранных файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-downloadAlbumArt">Загрузка обложки альбома</a></span></dt><dt><span class="sect2"><a href="#dbus-exportToFile">Экспорт тегов в файл</a></span></dt><dt><span class="sect2"><a href="#dbus-createPlaylist">Создание нового списка воспроизведения</a></span></dt><dt><span class="sect2"><a href="#dbus-getPlaylistItems">Получение элементов списка воспроизведения</a></span></dt><dt><span class="sect2"><a href="#dbus-setPlaylistItems">Установка элементов списка воспроизведения</a></span></dt><dt><span class="sect2"><a href="#dbus-quit">Выход из приложения</a></span></dt><dt><span class="sect2"><a href="#dbus-selectAll">Выделение всех файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-deselectAll">Отмена выделения всех файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-firstFile">Установка первого файла в качестве текущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-previousFile">Установка предыдущего файла в качестве текущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-nextFile">Установка следующего файла в качестве текущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-selectFirstFile">Выделение первого файла</a></span></dt><dt><span class="sect2"><a href="#dbus-selectPreviousFile">Выделение предыдущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-selectNextFile">Выделение следующего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-selectCurrentFile">Выделение текущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-expandDirectory">Разворачивание или сворачивание текущего элемента, если это каталог</a></span></dt><dt><span class="sect2"><a href="#dbus-applyFilenameFormat">Применение формата имени файла</a></span></dt><dt><span class="sect2"><a href="#dbus-applyTagFormat">Применение формата тега</a></span></dt><dt><span class="sect2"><a href="#dbus-applyTextEncoding">Применить кодировку текста</a></span></dt><dt><span class="sect2"><a href="#dbus-setDirNameFromTag">Установка имени каталога из тегов</a></span></dt><dt><span class="sect2"><a href="#dbus-numberTracks">Установка последовательной нумерации дорожек для выделенных файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-filter">Фильтр файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-convertToId3v24">Преобразование тегов ID3v2.3 в ID3v2.4</a></span></dt><dt><span class="sect2"><a href="#dbus-convertToId3v23">Преобразование тегов ID3v2.4 в ID3v2.3</a></span></dt><dt><span class="sect2"><a href="#dbus-getDirectoryName">Получение пути к каталогу</a></span></dt><dt><span class="sect2"><a href="#dbus-getFileName">Получение имени текущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-setFileName">Установка имени выделенного файла</a></span></dt><dt><span class="sect2"><a href="#dbus-setFileNameFormat">Установка формата, который будет использован при установке названий файлов на основе тегов</a></span></dt><dt><span class="sect2"><a href="#dbus-setFileNameFromTag">Установка названий выделенных файлов на основе тегов</a></span></dt><dt><span class="sect2"><a href="#dbus-getFrame">Получение значения фрейма</a></span></dt><dt><span class="sect2"><a href="#dbus-setFrame">Установка значения фрейма</a></span></dt><dt><span class="sect2"><a href="#dbus-getTag">Получение всех фреймов тега</a></span></dt><dt><span class="sect2"><a href="#dbus-getInformation">Получение технической информации о файле</a></span></dt><dt><span class="sect2"><a href="#dbus-setTagFromFileName">Установка тега на основе имени файла</a></span></dt><dt><span class="sect2"><a href="#dbus-setTagFromOtherTag">Установка тега на основе другого тега</a></span></dt><dt><span class="sect2"><a href="#dbus-copyTag">Копирование тега</a></span></dt><dt><span class="sect2"><a href="#dbus-pasteTag">Вставка тега</a></span></dt><dt><span class="sect2"><a href="#dbus-removeTag">Удаление тега</a></span></dt><dt><span class="sect2"><a href="#dbus-reparseConfiguration">Повторная обработка параметров конфигурации</a></span></dt><dt><span class="sect2"><a href="#dbus-playAudio">Воспроизведение выбранных файлов</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="#qml-interface">C. Интерфейс QML</a></span></dt><dd><dl><dt><span class="sect1"><a href="#qml-examples">Примеры QML</a></span></dt><dt><span class="sect1"><a href="#qml-api">Программный интерфейс QML</a></span></dt><dd><dl><dt><span class="sect2"><a href="#qml-kid3script">Kid3Script</a></span></dt><dt><span class="sect2"><a href="#qml-script">Поддержка сценариев</a></span></dt><dt><span class="sect2"><a href="#qml-app">Контекст приложений</a></span></dt><dt><span class="sect2"><a href="#qml-configs">Объекты конфигурации</a></span></dt></dl></dd></dl></dd></dl></div><div class="list-of-tables"><p><strong>Список таблиц</strong></p><dl><dt>3.1. <a href="#table-frame-list">Привязки унифицированных названий фреймов в различных форматах</a></dt><dt>3.2. <a href="#table-rating">Запись в таблице оценок</a></dt></dl></div><div class="preface"><div class="titlepage"><div><div><h1 class="title"><a id="synopsis"></a>Обзор</h1></div></div></div><div class="cmdsynopsis"><p><code class="command">kid3</code>  [ <code class="option">--help</code>  |   <code class="option">--author</code>  |   <code class="option">--version</code>  |   <code class="option">--license</code>  |   <code class="option">--desktopfile <code class="filename">ФАЙЛ</code></code> ] [<em class="replaceable"><code>ФАЙЛ</code></em>...]</p></div><div class="cmdsynopsis"><p><code class="command">kid3-qt</code>  [<code class="option">--portable</code>] [<code class="option">Параметры Qt</code>] [<em class="replaceable"><code>ФАЙЛ</code></em>...]</p></div><div class="cmdsynopsis"><p><code class="command">kid3-cli</code>  [<code class="option">--portable</code>] [<code class="option">--dbus</code>] [ <code class="option">-h</code>  |   <code class="option">--help</code> ] [<code class="option">-c КОМАНДА1</code>] [<code class="option">-c КОМАНДА2</code>...] [<em class="replaceable"><code>ФАЙЛ</code></em>...]</p></div></div><div class="preface"><div class="titlepage"><div><div><h1 class="title"><a id="options"></a>Параметры</h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="sect1"><a href="#options-kid3">kid3</a></span></dt><dt><span class="sect1"><a href="#options-kid3-qt">kid3-qt</a></span></dt><dt><span class="sect1"><a href="#options-kid3-cli">kid3-cli</a></span></dt></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--portable</code></span></dt><dd><p>Сохранить параметры в файл <code class="filename">kid3.ini</code> в каталоге приложения.</p></dd><dt><span class="term"><em class="replaceable"><code>ФАЙЛ</code></em></span></dt><dd><p>Если <code class="filename"><em class="replaceable"><code>ФАЙЛ</code></em></code> — это путь к каталогу, то он будет открыт. Если указан один или несколько путей к файлам, откроется общий каталог, а файлы будут выделены. </p></dd></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="options-kid3"></a>kid3</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--help</code></span></dt><dd><p>Показать справку о параметрах.</p></dd><dt><span class="term"><code class="option">--author</code></span></dt><dd><p>Показать сведения об авторах приложения.</p></dd><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Показать сведения о версии приложения.</p></dd><dt><span class="term"><code class="option">--license</code></span></dt><dd><p>Показать сведения о лицензии приложения.</p></dd><dt><span class="term"><code class="option">--desktopfile <code class="filename">ФАЙЛ</code></code></span></dt><dd><p>Имя файла .desktop (без пути) для этого приложения.</p></dd></dl></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="options-kid3-qt"></a>kid3-qt</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">Параметры Qt</code></span></dt><dd><p>Смотрите <span class="citerefentry"><span class="refentrytitle">qt5options</span>(7)</span>.</p></dd></dl></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="options-kid3-cli"></a>kid3-cli</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--dbus</code></span></dt><dd><p>Активировать интерфейс <acronym class="acronym">D-Bus</acronym>.</p></dd><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>Выполнить команду. Предусмотрена возможность использования нескольких параметров <code class="option">-c</code> для одной команды, и они будут выполняться последовательно. Описание доступных команд приводится в разделе «<a class="link" href="#kid3-cli" title="Глава 4. kid3-cli">kid3-cli</a>».</p></dd><dt><span class="term"><code class="option">-h</code>|<code class="option">--help</code></span></dt><dd><p>Показать справку о параметрах и командах.</p></dd></dl></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="introduction"></a>Глава 1. Введение</h1></div></div></div><p><span class="application">Kid3</span> — это приложение для эффективного редактирования тегов ID3v1 и ID3v2 в MP3-файлах. Большинство MP3-проигрывателей позволяют редактировать эти теги, но не настолько комфортным и простым способом. Более того, приложение поддерживает теги в файлах Ogg/Vorbis, Opus, DSF, FLAC, MPC, APE, MP4/AAC, MP2, Speex, TrueAudio, WavPack, WMA, WAV, AIFF и модулях трекеров (MOD, S3M, IT, XM). </p><p><span class="application">Kid3</span> не создаёт и не кодирует файлы в формате MP3, это приложение предназначено для редактирования тегов ID3 во всех файлах в альбоме с помощью нескольких щелчков кнопкой мыши или нажатий комбинаций клавиш. Большинство других программ позволяют редактировать теги только одного типа (либо ID3v1, либо ID3v2), в то время как <span class="application">Kid3</span> предоставляет возможность свободного редактирования и преобразования тегов обоих типов, а также позволяет получить доступ ко всем тегам ID3v2. Возможно установить одинаковые значения для тегов сразу в нескольких файлах, например, указать одинаковые значения для записей исполнителя, альбома, года и жанра для всех файлов в альбоме. Если информация для тегов содержится в имени файла, теги могут быть автоматически установлены на основе имени файла. Также возможно установить имя файла в соответствии с любыми тегами, найденными в этом файле. </p><p>Функции редактирования также включают автоматическую замену символов или подстрок, например, изъятие некорректных символов из названий файлов. Автоматическое определение регистра символов упрощает использование однородной схемы именования для всех тегов. </p><p>Данные тегов полных альбомов доступны на <a class="ulink" href="http://gnudb.org" target="_top">gnudb.org</a>, <a class="ulink" href="http://musicbrainz.org" target="_top">MusicBrainz</a>, <a class="ulink" href="http://discogs.com" target="_top">Discogs</a>, <a class="ulink" href="http://www.amazon.com" target="_top">Amazon</a>, а также на других ресурсах. Формат импорта возможно настраивать произвольным образом с помощью регулярных выражений. </p><p>Чтобы сообщить о найденной ошибке или предложить новую функцию, обратитесь к автору программы. </p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="using-kid3"></a>Глава 2. Работа с <span class="application">Kid3</span></h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="sect1"><a href="#kid3-features">Возможности <span class="application">Kid3</span></a></span></dt><dt><span class="sect1"><a href="#example-usage">Пример использования</a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="kid3-features"></a>Возможности <span class="application">Kid3</span></h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Редактирование тегов ID3v1.1</p></li><li class="listitem"><p>Редактирование всех фреймов ID3v2.3 и ID3v2.4</p></li><li class="listitem"><p>Одновременное редактирование тегов нескольких файлов</p></li><li class="listitem"><p>Преобразование тегов ID3v1 и ID3v2 между собой</p></li><li class="listitem"><p>Редактирование тегов MP3, Ogg/Vorbis, Opus, DSF, FLAC, MPC, APE, MP4/AAC, MP2, Speex, TrueAudio, WavPack, WMA, WAV и AIFF</p></li><li class="listitem"><p>Создание тегов на основе имени файла</p></li><li class="listitem"><p>Создание тегов по содержимому полей тегов</p></li><li class="listitem"><p>Создание названий файлов по тегам</p></li><li class="listitem"><p>Создание и изменение имён каталогов по тегам</p></li><li class="listitem"><p>Создание файлов списков воспроизведения</p></li><li class="listitem"><p>Автоматическое преобразование регистра и переноса строк</p></li><li class="listitem"><p>Импорт данных из <a class="ulink" href="http://gnudb.org" target="_top">gnudb.org</a>, <a class="ulink" href="http://musicbrainz.org" target="_top">MusicBrainz</a>, <a class="ulink" href="http://discogs.com" target="_top">Discogs</a>, <a class="ulink" href="http://www.amazon.com" target="_top">Amazon</a> и других источников</p></li><li class="listitem"><p>Экспорт данных в форматах CSV, <acronym class="acronym">HTML</acronym>, списков воспроизведения, Kover <acronym class="acronym">XML</acronym> и других. Экспортированные файлы в формате CSV возможно заново импортировать</p></li></ul></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="example-usage"></a>Пример использования</h2></div></div></div><p>Этот раздел описывает обычный сеанс работы в <span class="application">Kid3</span>. 

Предположим, что есть каталог, в котором содержатся файлы в формате MP3 с дорожками из альбома «Let's Tag» группы «One Hit Wonder». Каталог с файлами назван в формате «Исполнитель - Альбом», в этом примере — «<code class="filename">One Hit Wonder - Let's Tag</code>». В каталоге содержатся файлы дорожек в формате «название дорожки.mp3», что довольно удобно, так как названия файлов остаются короткими (это важно для мобильных MP3-проигрывателей с небольшими дисплеями) и располагаются в надлежащем порядке при упорядочении списка по алфавиту (это важно при использовании аппаратного MP3-проигрывателя, который воспроизводит дорожки в алфавитном порядке или в том порядке, в котором они записаны на компакт-диске; этот порядок будет алфавитным в случае выполнения команды <span class="command"><strong>mkisofs</strong></span>). Кроме этого, информация об исполнителе и альбоме уже содержится в названии каталога, и её не обязательно дублировать в названии файла. В этом примере список файлов в каталоге будет выглядеть так: </p><p><code class="filename">01 Intro.mp3</code></p><p><code class="filename">02 We Only Got This One.mp3</code></p><p><code class="filename">03 Outro.mp3</code></p><p>Этим файлам ещё не присвоены теги, их нужно создать с помощью <span class="application">Kid3</span>. Для этого следует воспользоваться пунктом меню <span class="guimenu">Файл</span> → <span class="guimenuitem">Открыть</span> (или кнопкой на панели инструментов) и выделить один из файлов в этом каталоге. Все файлы будут отображаться в списке файлов. Чтобы не усложнять себе задачу, для создания тегов воспользуемся данными из названия каталога и имён файлов. Для этого следует выделить все файлы, а затем нажать кнопку <span class="guilabel">В:</span> <span class="guibutton">Тег 1</span> в разделе <span class="guilabel">Файл</span>. Будут установлены значения заголовка, исполнителя, альбома и дорожки для всех файлов. Чтобы установить значение года и жанра для всех файлов, следует, не снимая выделения, ввести «2002» в поле <span class="guilabel">Дата</span> и выбрать, например, «Pop» в раскрывающемся списке <span class="guilabel">Жанр</span>. Чтобы установить только эти два значения, приложение автоматически установит флажки только на эти два пункта. Далее возможно изменить выделение, выделив только первый файл: как можно убедиться, всем тегам присвоены корректные значения. Чтобы проверить теги остальных файлов, их следует выделить один за другим. Если теги установлены корректно, воспользуйтесь пунктом меню <span class="guimenu">Файл</span> → <span class="guimenuitem">Сохранить</span> (или кнопкой на панели инструментов). Пункт меню <span class="guimenu">Файл</span> → <span class="guimenuitem">Создать список воспроизведения</span> (или кнопка на панели инструментов) позволяет создать файл под названием «<code class="filename">One Hit Wonder - Let's Tag.m3u</code>» в том же каталоге. </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="commands"></a>Глава 3. Список команд</h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="sect1"><a href="#gui-elements">Элементы графического интерфейса</a></span></dt><dd><dl><dt><span class="sect2"><a href="#file-list">Список файлов</a></span></dt><dt><span class="sect2"><a href="#edit-playlist">Редактирование списка воспроизведения</a></span></dt><dt><span class="sect2"><a href="#directory-list">Список каталогов</a></span></dt><dt><span class="sect2"><a href="#file">Файл</a></span></dt><dt><span class="sect2"><a href="#tag1">Тег 1</a></span></dt><dt><span class="sect2"><a href="#tag2">Тег 2</a></span></dt><dt><span class="sect2"><a href="#tag3">Тег 3</a></span></dt><dt><span class="sect2"><a href="#frame-list">Список фреймов</a></span></dt><dt><span class="sect2"><a href="#synchronized-lyrics">Синхронизация текста песни с временными кодами событий</a></span></dt></dl></dd><dt><span class="sect1"><a href="#file-menu">Меню «Файл»</a></span></dt><dt><span class="sect1"><a href="#edit-menu">Меню «Правка»</a></span></dt><dt><span class="sect1"><a href="#tools-menu">Меню «Сервис»</a></span></dt><dt><span class="sect1"><a href="#settings-menu">Меню «Настройка»</a></span></dt><dt><span class="sect1"><a href="#help-menu">Меню «Справка»</a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="gui-elements"></a>Элементы графического интерфейса</h2></div></div></div><p>Графический интерфейс <span class="application">Kid3</span> состоит из шести разделов: слева расположены списки файлов и каталогов, а справа находятся разделы <span class="guilabel">Файл</span>, <span class="guilabel">Тег 1</span>, <span class="guilabel">Тег 2</span> и <span class="guilabel">Тег 3</span>. </p><p>Определённые комбинации клавиш позволяют перемещаться между разделами с помощью клавиатуры. В разделах тегов комбинации клавиш возможно использовать, если не выполняется редактирование текста или если курсор находится в первом столбце таблицы. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Влево</strong></span>: перейти к предыдущему разделу (<span class="keycap"><strong>Command</strong></span>+<span class="keycap"><strong>[</strong></span> в <span class="trademark">macOS</span>®) </p></li><li class="listitem"><p><span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Вправо</strong></span>: перейти к следующему разделу (<span class="keycap"><strong>Command</strong></span>+<span class="keycap"><strong>]</strong></span> в <span class="trademark">macOS</span>®) </p></li><li class="listitem"><p><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Shift</strong></span>+<span class="keycap"><strong>V</strong></span>: из другого тега </p></li><li class="listitem"><p><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>C</strong></span>: копировать </p></li><li class="listitem"><p><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>V</strong></span>: вставить </p></li><li class="listitem"><p><span class="keycap"><strong>Shift</strong></span>+<span class="keycap"><strong>Delete</strong></span>: удалить </p></li><li class="listitem"><p><span class="keycap"><strong>F2</strong></span>: изменить </p></li><li class="listitem"><p><span class="keycap"><strong>Insert</strong></span>: добавить </p></li><li class="listitem"><p><span class="keycap"><strong>Delete</strong></span>: удалить </p></li></ul></div><p>
</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="file-list"></a>Список файлов</h3></div></div></div><p>Список файлов содержит имена всех файлов в открытом каталоге, которые соответствуют выбранному фильтру имён (обычно это <code class="filename">*.mp3 *.ogg *.opus *.dsf *.flac *.mpc *.aac *.m4a *.m4b *.m4p *.mp4 *.mp2 *.spx *.tta *.wv *.wma *.wav *.aiff *.ape</code>). Возможно выбрать один или несколько файлов. Чтобы снять выделение, щёлкните левой кнопкой мыши в пустом месте под пунктами списка. Выделение определяет файлы, над которыми будут выполняться действия после нажатия кнопок, описание которых приводится далее. </p><p>Параметры файла отображаются не только в столбце <span class="guilabel">Имя</span>, но и в столбцах <span class="guilabel">Размер</span>, <span class="guilabel">Тип</span>, <span class="guilabel">Дата изменения</span>. Чтобы скрыть эти столбцы, снимите флажок в соответствующем пункте контекстного меню строки заголовков списка. Чтобы изменить порядок столбцов, воспользуйтесь функцией перетаскивания. Порядок сортировки файлов переключается щелчком левой кнопкой мыши по заголовку столбца. </p><p>Слева от названий может отображаться значок дискеты, указывающий на наличие изменений в файле, либо значок, отображающий информацию о том, какие теги используются (V1, V2, V1V2 или NO TAG; значок не будет отображаться, если чтение данных из файла ещё не было произведено). </p><p>Каталоги отображаются со значком в виде папки. При открытии каталога его содержимое отображается в виде иерархического дерева. При выборе файлов из вложенных каталогов возможно выполнять действия над файлами, которые хранятся в разных каталогах. Это удобно, когда музыкальная коллекция организована так, что каталог каждого исполнителя содержит вложенные каталоги с его альбомами. </p><p>При щелчке <span class="mousebutton">правой</span> кнопкой мыши внутри списка файлов появится контекстное меню, содержащее следующие команды: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="guimenuitem">Развернуть все</span>: разворачивает всё дерево каталога (при нажатой клавише <span class="keycap"><strong>Shift</strong></span> развернёт дерево текущего каталога) </p></li><li class="listitem"><p><span class="guimenuitem">Свернуть все</span>: сворачивает всё дерево каталога </p></li><li class="listitem"><p><span class="guimenuitem">Переименовать</span>: меняет имя файла </p></li><li class="listitem"><p><span class="guimenuitem">Переместить в корзину</span>: перемещает файл в корзину </p></li><li class="listitem"><p><span class="guimenuitem">Воспроизвести</span>: воспроизводит файл; подробнее об этом пункте контекстного меню рассказано в описании функции «<a class="link" href="#play">Воспроизведение</a>». Если выбранный файл — это список воспроизведения, будут воспроизводиться все файлы списка воспроизведения. </p></li><li class="listitem"><p><span class="guimenuitem">Редактировать</span>: позволяет отредактировать список воспроизведения, подробные сведения об этом пункте контекстного меню приводятся в разделе «<a class="link" href="#edit-playlist" title="Редактирование списка воспроизведения">Редактирование списка воспроизведения</a>». </p></li><li class="listitem"><p>Остальные пункты являются пользовательскими командами, которые возможно указать на вкладке <span class="guilabel">Команды пользователя</span> диалогового окна <a class="link" href="#configure-kid3">настройки <span class="application">Kid3</span></a>. В этом же разделе находится функция воспроизведения по двойному щелчку. </p></li></ul></div><p>
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="edit-playlist"></a>Редактирование списка воспроизведения</h3></div></div></div><p>Возможно создать как пустой список воспроизведения, так и уже содержащий дорожки из определённого каталога, подробные сведения об этом доступны в описании функции «<a class="link" href="#create-playlist">Создать список воспроизведения</a>». Чтобы изменить список воспроизведения, созданный таким образом, дважды щёлкните по нему левой кнопкой мыши, либо воспользуйтесь пунктом контекстного меню списка файлов <span class="guilabel">Правка</span>. Отобразится диалог с содержимым списка воспроизведения. Возможно открывать сразу несколько разных списков воспроизведения. </p><p>Чтобы добавить новые записи, перетащите нужные файлы из списка файлов, диспетчера файлов или из другого списка воспроизведения. Если перетащить запись из другого списка воспроизведения, в зависимости от системы, она будет либо перемещена, либо скопирована. Чтобы вызвать другие действия, нажмите клавишу <span class="keycap"><strong>Shift</strong></span>, <span class="keycap"><strong>Ctrl</strong></span> или <span class="keycap"><strong>Alt</strong></span> (в <span class="trademark">macOS</span>® — для копирования вместо перемещения). Чтобы упорядочить записи в списке воспроизведения, также воспользуйтесь функцией перетаскивания. Кроме того, для перемещения записей в списке предусмотрены комбинации клавиш <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Shift</strong></span>+<span class="keycap"><strong>Вверх</strong></span> и <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Shift</strong></span>+<span class="keycap"><strong>Вниз</strong></span> (в <span class="trademark">macOS</span>® вместо клавиши <span class="keycap"><strong>Ctrl</strong></span> следует использовать <span class="keycap"><strong>Command</strong></span>). Чтобы удалить запись, нажмите клавишу <span class="keycap"><strong>Delete</strong></span>. </p><p>Обратите внимание на следующее: чтобы перетащить записи из списка файлов, их следует захватывать с левой стороны (рядом со значком), так как захват с правой стороны выполняет функцию выделения нескольких файлов. Поэтому, чтобы перетащить сразу несколько файлов, потребуется выполнить оба этих действия. </p><p>После внесения изменений в список воспроизведения нажмите кнопку <span class="guibutton">Сохранить</span> для сохранения изменений или кнопку <span class="guibutton">Отмена</span> для их отмены. При закрытии окна приложения будет предложено сохранить несохранённые изменения, если таковые имеются. </p><p>Выделенные в списке воспроизведения дорожки также автоматически выделяются в списке файлов, что позволяет сразу же приступить к редактированию присвоенных им тегов. </p><p>Чтобы выполнить те или иные действия над списком воспроизведения, следует выделить его файл в списке файлов. Пункт контекстного меню <span class="guimenuitem">Изменить</span> открывает диалог, описанный в этом разделе, а пункт <span class="guimenuitem">Воспроизвести</span> запустит проигрыватель с дорожками из списка воспроизведения. Над списками воспроизведения возможно выполнять пользовательские действия, <a class="link" href="#qml-examples" title="Примеры QML">например</a>, <span class="guilabel">Экспорт списка воспроизведения</span> для копирования файлов из списка воспроизведения в каталог. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="directory-list"></a>Список каталогов</h3></div></div></div><p>В списке каталогов содержатся названия подкаталогов открытого каталога, а также пункты текущего (<code class="filename">.</code>) и родительского (<code class="filename">..</code>) каталога. Этот список позволяет быстро сменить каталог без использования кнопки <span class="guimenuitem">Открыть</span> или функции перетаскивания. </p><p>Сведения о настройке видимости столбцов, порядка столбцов и сортировки записей в столбцах доступны в разделе о <a class="link" href="#file-list" title="Список файлов">списке файлов</a>. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="file"></a>Файл</h3></div></div></div><p>Отображает информацию о кодировке (MP3, Ogg, Opus, DSF, FLAC, MPC, APE, MP2, MP4, AAC, Speex, TrueAudio, WavPack, WMA, WAV, AIFF), скорости передачи, частоте дискретизации, каналах и длине файла. </p><p>Поле для редактирования <span class="guilabel">Имя</span> содержит название файла (только если выделен один файл). При изменении имени файла для сохранения следует использовать команду сохранения изменений. </p><p>Раскрывающийся список <span class="guilabel">Формат</span> и поле для редактирования содержат информацию о формате, который будет использоваться при создании имени файла из первого или второго тега. Имя файла может содержать произвольные символы, даже часть каталога, отделённую от имени файла косой чертой (но переименование будет успешно выполнено только в том случае, если эта папка уже существует). Следующие специальные коды используются для вставки значений тегов в имя файла: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>%s %{title} Заголовок (композиции)</p></li><li class="listitem"><p>%a %{artist} Исполнитель</p></li><li class="listitem"><p>%l %{album} Альбом</p></li><li class="listitem"><p>%c %{comment} Комментарий</p></li><li class="listitem"><p>%y %{year} Год</p></li><li class="listitem"><p>%t %{track} Номер дорожки (например, 01)</p></li><li class="listitem"><p>%t %{track.n} Номер дорожки с шириной поля n (например, 001 для %{track.3})</p></li><li class="listitem"><p>%T %{tracknumber} Номер дорожки (без нулей в начале, например, 1)</p></li><li class="listitem"><p>%g %{genre} Жанр</p></li><li class="listitem"><p>%{ignore} Игнорируется при создании тегов из имени файла</p></li></ul></div><p>Коды формата не ограничены приведёнными выше примерами. Возможно использовать любые названия фреймов, например, унифицированные названия фреймов наподобие <strong class="userinput"><code>%{albumartist}</code></strong>, <strong class="userinput"><code>%{discnumber.1}</code></strong>, <strong class="userinput"><code>%{bpm}</code></strong> или специфичные для форматов названия наподобие <strong class="userinput"><code>%{popm}</code></strong>. </p><p>Чтобы добавить строки к началу или концу строки для замены кода формата, следует добавить соответствующие строки в двойных кавычках внутри фигурных скобок кода формата. Такие строки добавляются в строку-результат, только если код формата имеет непустое значение. Например, если имя файла содержит как заголовок, так и подзаголовок, используйте в строке формата запись <strong class="userinput"><code>%{title} [%{subtitle}]</code></strong>. Но использование такой записи приведёт к завершению строки символами <code class="computeroutput">[]</code>, если в файле отсутствует фрейм подзаголовка. Чтобы избежать добавления таких пустых квадратных скобок, следует использовать запись вида <strong class="userinput"><code>%{title}%{" ["subtitle"]"}</code></strong>. В этом случае скобки, начальный пробел и подзаголовок будут опущены, если подзаголовка не существует. </p><p>Настройка списка доступных форматов осуществляется в диалоге, вызываемом кнопкой <span class="guibutton">Имя файла из тега</span> на вкладке <span class="guilabel">Файлы</span> окна <a class="link" href="#configure-kid3">настройки параметров</a>. </p><p>Второй раскрывающийся список <span class="guilabel">Формат</span> (со стрелкой вниз) используется для создания тегов из имени файла. Если формат имени файла не соответствует этому шаблону, будет предпринята попытка использовать другие распространённые форматы. </p><p>В раскрывающемся списке перечислено несколько стандартных форматов названий файлов, но также возможно ввести свой собственный формат в строку редактирования. </p><p>Настройка списка доступных форматов осуществляется в диалоге, вызываемом кнопкой <span class="guibutton">Тег из имени файла</span> на вкладке <span class="guilabel">Файлы</span> окна <a class="link" href="#configure-kid3">настройки параметров</a>. </p><p>На внутреннем уровне регулярное выражение состоит из кодов формата. Если требуются расширенные регулярные выражения, формат для создания тегов из имён файлов может быть задан как полное регулярное выражение с частями, которым предшествуют коды формата. Например, для извлечения номеров дорожек без удаления нулей в начале следует использовать формат наподобие «<strong class="userinput"><code>/%{track}(\d+) %{title}(.*)</code></strong>». </p><p><span class="guilabel">Из:</span> <span class="guibutton">Тег 1</span>, <span class="guibutton">Тег 2</span>: установка имени файла с использованием выбранного формата и, соответственно, первого или второго тега. </p><p><span class="guilabel">В:</span> <span class="guibutton">Тег 1</span>, <span class="guibutton">Тег 2</span>: создание тегов из имени файла. Сначала используется формат, указанный в поле <span class="guilabel">Формат</span>. Если существующее имя файла не соответствует этому формату, предпринимается попытка использовать следующие форматы: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">Исполнитель - Альбом/Дорожка Композиция</code></p></li><li class="listitem"><p><code class="filename">Альбом/Дорожка - Исполнитель - Композиция</code></p></li><li class="listitem"><p><code class="filename">/Исполнитель - Альбом - Дорожка - Композиция</code></p></li><li class="listitem"><p><code class="filename">Альбом/Исполнитель - Дорожка - Композиция</code></p></li><li class="listitem"><p><code class="filename">Альбом/Исполнитель - Композиция</code></p></li><li class="listitem"><p><code class="filename">Исполнитель/Альбом/Дорожка Композиция</code></p></li></ul></div><p>Если выбран один файл, пункты графического интерфейса будут заполнены значениями, полученными из названия этого файла. Если выбрано несколько файлов, теги файлов устанавливаются непосредственно в соответствии с именами файлов. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="tag1"></a>Тег 1</h3></div></div></div><p>Строки редактирования <span class="guilabel">Заголовок</span>, <span class="guilabel">Исполнитель</span>, <span class="guilabel">Альбом</span>, <span class="guilabel">Комментарий</span>, <span class="guilabel">Дата</span>, <span class="guilabel">Номер дорожки</span> и <span class="guilabel">Жанр</span> используются для изменения соответствующего значения первого тега выделенных файлов. Значение будет изменено при изменении выделения файлов, перед такими действиями, как <span class="guimenuitem">Сохранить</span> и <span class="guimenuitem">Выход</span>, а также при установке соответствующего флажка слева от имени поля. Это позволяет изменить только некоторые значения, оставив остальные значения без изменений. </p><p>Если выбран один файл, будут установлены все флажки, а строки будут заполнены данными, полученными из тегов этого файла. Если теги отсутствуют, будет отображаться соответствующее пустое значение: пустая строка в текстовых полях <span class="guilabel">Заголовок</span>, <span class="guilabel">Исполнитель</span>, <span class="guilabel">Альбом</span> и <span class="guilabel">Комментарий</span>, 0 в числовых полях <span class="guilabel">Дата</span> и <span class="guilabel">Номер дорожки</span> и пустое значение в раскрывающемся списке <span class="guilabel">Жанр</span>. Эти значения возможно изменить, и, если установлен соответствующий флажок, они будут установлены для выбранного файла после изменения выделения. В таком случае файл в списке файлов будет отмечен значком дискеты, но изменения не будут применены, пока не будет выполнена команда <span class="guimenuitem">Сохранить</span>. </p><p>Если выбрано несколько файлов, будут отображены только значения, идентичные во всех файлах. Во всех остальных полях будут показаны пустые значения, как было описано выше. Все флажки будут сняты во избежание нежелательных изменений. Если требуется установить значение для всех выделенных файлов, отредактируйте его, и приложение автоматически установит соответствующий флажок. Значения для выбранных файлов будут установлены при изменении выделения, и эти изменения будет возможно сохранить с помощью команды <span class="guimenuitem">Сохранить</span>. </p><p>Флажки позволяют управлять большинством команд, включая копирование, вставку и перенос данных между тегами 1 и 2. Чтобы упростить одновременную работу с несколькими файлами, когда все флажки сняты, эти команды работают одинаково независимо от того, установлены или сняты все флажки. </p><p><span class="guibutton">Из тега 2</span>: значения полей тега 1 устанавливаются из соответствующих значений тега 2. Если выбран один файл, пункты графического интерфейса будут заполнены значениями из тега 2. Если выбрано несколько файлов, устанавливаются непосредственно теги этих файлов. </p><p><span class="guibutton">Копировать</span>: скопировать в буфер обмена значения тега 1. В следующих командах вставки будут использоваться только значения из пунктов с установленным флажком. </p><p><span class="guibutton">Вставить</span>: вставить данные из буфера обмена в пункты графического интерфейса. </p><p><span class="guibutton">Убрать</span>: очистить все значения пунктов графического интерфейса. Если после этого действия сохранить редактируемый файл, в нём будет отсутствовать тег 1. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="tag2"></a>Тег 2</h3></div></div></div><p>Графический интерфейс позволяет управлять этим параметром таким же способом, который описан в разделе <span class="guilabel">Тег 1</span>, но при этом размеры строк не ограничены. </p><p>При заполнении поля тега 2 <span class="guilabel">Жанр</span> также возможно использовать собственные названия помимо жанров, указанных в раскрывающемся списке; достаточно просто ввести название жанра в строку редактирования. </p><p>Тег 2 не может содержать только те же значения, что и тег 1. Формат гибко строится из нескольких фреймов, которые сами состоят из нескольких полей. Таблица тега 2 показывает все фреймы, которые доступны в выбранном файле. </p><p><span class="guibutton">Изменить</span>: открывает окно, позволяющее редактировать все поля выделенного фрейма. Если выбрано несколько файлов, изменения значений полей будут применяться ко всем выбранным файлам, которые содержат этот фрейм. </p><p><span class="guibutton">Добавить</span>: открывает окно для указания типа фрейма, который можно будет изменить и добавить в файл. Эта функция также работает при выборе нескольких файлов. </p><p><span class="guibutton">Удалить</span>: удаляет выбранный фрейм в выбранных файлах. </p><p>Надпись <span class="guilabel">Перетащите сюда обложку альбома</span> отобразится в том случае, если в файле отсутствует встроенная обложка альбома. Чтобы добавить изображение, перетащите его мышью из браузера или диспетчера файлов; после этого оно отобразится вместо надписи. Чтобы изменить или добавить фрейм, дважды щёлкните левой кнопкой мыши по соответствующему полю. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="tag3"></a>Тег 3</h3></div></div></div><p>Некоторые файлы могут содержать более двух тегов. В этом случае будет отображаться раздел третьего тега. Раздел <span class="guilabel">Тег 3</span> могут иметь следующие типы файлов: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Файлы в формате MP3 могут иметь тег ID3v1.1, ID3v2 (2.3.0 или 2.4.0) и в третьем разделе тег APE. Такие теги предназначены для хранения информации о выравнивании громкости. Эта информация отображается в разделе <span class="guilabel">Тег 3</span>, а тег APE возможно удалить с помощью кнопки <span class="guibutton">Убрать</span>. </p></li><li class="listitem"><p>Фрагменты RIFF INFO в файлах WAV хранятся в разделе <span class="guilabel">Тег 3 </span>, потому что раздел <span class="guilabel">Тег 1</span> предназначен для тегов ID3v1.1 с соответствующими ограничениями. Раздел <span class="guilabel">Тег 2</span> используется для тегов ID3v2.4.0, поддержка которых также предусмотрена в файлах WAV, но поддержка фрагментов RIFF INFO, по всей видимости, реализована лучше. </p></li><li class="listitem"><p>Файлы в формате FLAC обычно используют комментарии Vorbis для своих метаданных. Однако существуют файлы в формате FLAC, которые содержат теги ID3v1 и ID3v2, находящиеся в разделах <span class="guilabel">Тег 1</span> и <span class="guilabel">Тег 3</span>. Теги ID3 в файлах формата FLAC поддерживаются только библиотекой TagLib, поэтому модуль OggFlacMetadata должен быть отключён (вкладка <span class="guilabel">Модули</span> в окне <a class="link" href="#configure-kid3">настройки параметров <span class="application">Kid3</span></a>). </p></li></ul></div><p>Пункты графического интерфейса работают так же, как и в разделе <span class="guilabel">Тег 2</span>. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="frame-list"></a>Список фреймов</h3></div></div></div><p><span class="application">Kid3</span> позволяет редактировать большинство фреймов для всех поддерживаемых типов файлов. Определение некоторых фреймов производится с помощью унифицированных имён, что позволяет обмениваться данными между файлами разных форматов. Не унифицированные фреймы определяются как фреймы, специфичные для формата. </p><div class="table"><a id="table-frame-list"></a><p class="title"><strong>Таблица 3.1. Привязки унифицированных названий фреймов в различных форматах</strong></p><div class="table-contents"><table class="table" summary="Привязки унифицированных названий фреймов в различных форматах" border="1"><colgroup><col /><col /><col /><col /><col /><col /><col /></colgroup><thead><tr><th>Унифицированное имя</th><th>ID3v2.3</th><th>ID3v2.4</th><th>MP4</th><th>ASF</th><th>Vorbis</th><th>RIFF</th></tr></thead><tbody><tr><td>Заголовок</td><td><code class="literal">TIT2</code></td><td><code class="literal">TIT2</code></td><td><code class="literal">©nam</code></td><td><code class="literal">Title</code></td><td><code class="literal">TITLE</code></td><td><code class="literal">INAM</code></td></tr><tr><td>Исполнитель</td><td><code class="literal">TPE1</code></td><td><code class="literal">TPE1</code></td><td><code class="literal">©ART</code></td><td><code class="literal">Author</code></td><td><code class="literal">ARTIST</code></td><td><code class="literal">IART</code></td></tr><tr><td>Альбом</td><td><code class="literal">TALB</code></td><td><code class="literal">TALB</code></td><td><code class="literal">©alb</code></td><td><code class="literal">WM/AlbumTitle</code></td><td><code class="literal">ALBUM</code></td><td><code class="literal">IPRD</code></td></tr><tr><td>Комментарий</td><td><code class="literal">COMM</code></td><td><code class="literal">COMM</code></td><td><code class="literal">©cmt</code></td><td><code class="literal">Description</code></td><td><code class="literal">COMMENT</code></td><td><code class="literal">ICMT</code></td></tr><tr><td>Дата</td><td><code class="literal">TYER</code></td><td><code class="literal">TDRC</code></td><td><code class="literal">©day</code></td><td><code class="literal">WM/Year</code></td><td><code class="literal">DATE</code></td><td><code class="literal">ICRD</code></td></tr><tr><td>Номер дорожки</td><td><code class="literal">TRCK</code></td><td><code class="literal">TRCK</code></td><td><code class="literal">trkn</code></td><td><code class="literal">WM/TrackNumber</code></td><td><code class="literal">TRACKNUMBER</code></td><td><code class="literal">IPRT</code> или <code class="literal">ITRK</code></td></tr><tr><td>Жанр</td><td><code class="literal">TCON</code></td><td><code class="literal">TCON</code></td><td><code class="literal">©gen</code></td><td><code class="literal">WM/Genre</code></td><td><code class="literal">GENRE</code></td><td><code class="literal">IGNR</code></td></tr><tr><td>Исполнитель альбома</td><td><code class="literal">TPE2</code></td><td><code class="literal">TPE2</code></td><td><code class="literal">aART</code></td><td><code class="literal">WM/AlbumArtist</code></td><td><code class="literal">ALBUMARTIST</code></td><td> </td></tr><tr><td>Аранжировщик</td><td><code class="literal">IPLS</code></td><td><code class="literal">TIPL</code></td><td><code class="literal">ARRANGER</code></td><td><code class="literal">WM/Producer</code></td><td><code class="literal">ARRANGER</code></td><td><code class="literal">IENG</code></td></tr><tr><td>Автор</td><td><code class="literal">TOLY</code></td><td><code class="literal">TOLY</code></td><td><code class="literal">AUTHOR</code></td><td> </td><td><code class="literal">AUTHOR</code></td><td> </td></tr><tr><td>BPM</td><td><code class="literal">TBPM</code></td><td><code class="literal">TBPM</code></td><td><code class="literal">tmpo</code></td><td><code class="literal">WM/BeatsPerMinute</code></td><td><code class="literal">BPM</code></td><td><code class="literal">IBPM</code></td></tr><tr><td>Номер по каталогу</td><td><code class="literal">TXXX:CATALOGNUMBER</code></td><td><code class="literal">TXXX:CATALOGNUMBER</code></td><td> </td><td> </td><td><code class="literal">CATALOGNUMBER</code></td><td> </td></tr><tr><td>Сборник</td><td><code class="literal">TCMP</code></td><td><code class="literal">TCMP</code></td><td><code class="literal">cpil</code></td><td> </td><td><code class="literal">COMPILATION</code></td><td> </td></tr><tr><td>Композитор</td><td><code class="literal">TCOM</code></td><td><code class="literal">TCOM</code></td><td><code class="literal">©wrt</code></td><td><code class="literal">WM/Composer</code></td><td><code class="literal">COMPOSER</code></td><td><code class="literal">IMUS</code></td></tr><tr><td>Дирижёр</td><td><code class="literal">TPE3</code></td><td><code class="literal">TPE3</code></td><td><code class="literal">CONDUCTOR</code></td><td><code class="literal">WM/Conductor</code></td><td><code class="literal">CONDUCTOR</code></td><td> </td></tr><tr><td>Авторские права</td><td><code class="literal">TCOP</code></td><td><code class="literal">TCOP</code></td><td><code class="literal">cprt</code></td><td><code class="literal">Copyright</code></td><td><code class="literal">COPYRIGHT</code></td><td><code class="literal">ICOP</code></td></tr><tr><td>Описание</td><td><code class="literal">TIT3</code></td><td><code class="literal">TIT3</code></td><td><code class="literal">desc</code></td><td><code class="literal">WM/SubTitleDescription</code></td><td><code class="literal">DESCRIPTION</code></td><td> </td></tr><tr><td>Номер диска</td><td><code class="literal">TPOS</code></td><td><code class="literal">TPOS</code></td><td><code class="literal">disk</code></td><td><code class="literal">WM/PartOfSet</code></td><td><code class="literal">DISCNUMBER</code></td><td> </td></tr><tr><td>Кодировщик</td><td><code class="literal">TENC</code></td><td><code class="literal">TENC</code></td><td><code class="literal">©enc</code></td><td><code class="literal">WM/EncodedBy</code></td><td><code class="literal">ENCODED-BY</code></td><td><code class="literal">ITCH</code></td></tr><tr><td>Параметры кодировщика</td><td><code class="literal">TSSE</code></td><td><code class="literal">TSSE</code></td><td><code class="literal">©too</code></td><td><code class="literal">WM/EncodingSettings</code></td><td><code class="literal">ENCODERSETTINGS</code></td><td><code class="literal">ISFT</code></td></tr><tr><td>Время кодирования</td><td> </td><td><code class="literal">TDEN</code></td><td> </td><td><code class="literal">WM/EncodingTime</code></td><td><code class="literal">ENCODINGTIME</code></td><td><code class="literal">IDIT</code></td></tr><tr><td>Группировка</td><td><code class="literal">GRP1</code></td><td><code class="literal">GRP1</code></td><td><code class="literal">©grp</code></td><td> </td><td><code class="literal">GROUPING</code></td><td> </td></tr><tr><td>Начальная тональность</td><td><code class="literal">TKEY</code></td><td><code class="literal">TKEY</code></td><td> </td><td><code class="literal">WM/InitialKey</code></td><td><code class="literal">INITIALKEY</code></td><td> </td></tr><tr><td>ISRC</td><td><code class="literal">TSRC</code></td><td><code class="literal">TSRC</code></td><td><code class="literal">ISRC</code></td><td><code class="literal">WM/ISRC</code></td><td><code class="literal">ISRC</code></td><td><code class="literal">ISRC</code></td></tr><tr><td>Язык</td><td><code class="literal">TLAN</code></td><td><code class="literal">TLAN</code></td><td><code class="literal">LANGUAGE</code></td><td><code class="literal">WM/Language</code></td><td><code class="literal">LANGUAGE</code></td><td><code class="literal">ILNG</code></td></tr><tr><td>Автор текста</td><td><code class="literal">TEXT</code></td><td><code class="literal">TEXT</code></td><td><code class="literal">LYRICIST</code></td><td><code class="literal">WM/Writer</code></td><td><code class="literal">LYRICIST</code></td><td><code class="literal">IWRI</code></td></tr><tr><td>Текст песни</td><td><code class="literal">USLT</code></td><td><code class="literal">USLT</code></td><td><code class="literal">©lyr</code></td><td><code class="literal">WM/Lyrics</code></td><td><code class="literal">LYRICS</code></td><td> </td></tr><tr><td>Носители</td><td><code class="literal">TMED</code></td><td><code class="literal">TMED</code></td><td><code class="literal">SOURCEMEDIA</code></td><td> </td><td><code class="literal">SOURCEMEDIA</code></td><td><code class="literal">IMED</code></td></tr><tr><td>Настроение</td><td> </td><td><code class="literal">TMOO</code></td><td> </td><td><code class="literal">WM/Mood</code></td><td><code class="literal">MOOD</code></td><td> </td></tr><tr><td>Исходный альбом</td><td><code class="literal">TOAL</code></td><td><code class="literal">TOAL</code></td><td><code class="literal">ORIGINALALBUM</code></td><td><code class="literal">WM/OriginalAlbumTitle</code></td><td><code class="literal">ORIGINALALBUM</code></td><td> </td></tr><tr><td>Исходный исполнитель</td><td><code class="literal">TOPE</code></td><td><code class="literal">TOPE</code></td><td><code class="literal">ORIGINALARTIST</code></td><td><code class="literal">WM/OriginalArtist</code></td><td><code class="literal">ORIGINALARTIST</code></td><td> </td></tr><tr><td>Исходная дата</td><td><code class="literal">TORY</code></td><td><code class="literal">TDOR</code></td><td><code class="literal">ORIGINALDATE</code></td><td><code class="literal">WM/OriginalReleaseYear</code></td><td><code class="literal">ORIGINALDATE</code></td><td> </td></tr><tr><td>Исполнитель</td><td><code class="literal">IPLS</code></td><td><code class="literal">TMCL</code></td><td><code class="literal">PERFORMER</code></td><td> </td><td><code class="literal">PERFORMER</code></td><td><code class="literal">ISTR</code></td></tr><tr><td>Изображение</td><td><code class="literal">APIC</code></td><td><code class="literal">APIC</code></td><td><code class="literal">covr</code></td><td><code class="literal">WM/Picture</code></td><td><code class="literal">METADATA_BLOCK_PICTURE</code></td><td> </td></tr><tr><td>Издатель</td><td><code class="literal">TPUB</code></td><td><code class="literal">TPUB</code></td><td><code class="literal">PUBLISHER</code></td><td><code class="literal">WM/Publisher</code></td><td><code class="literal">PUBLISHER</code></td><td><code class="literal">IPUB</code></td></tr><tr><td>Оценка</td><td><code class="literal">POPM</code></td><td><code class="literal">POPM</code></td><td><code class="literal">rate</code></td><td><code class="literal">WM/SharedUserRating</code></td><td><code class="literal">RATING</code></td><td><code class="literal">IRTD</code></td></tr><tr><td>Страна выпуска</td><td><code class="literal">TXXX:RELEASECOUNTRY</code></td><td><code class="literal">TXXX:RELEASECOUNTRY</code></td><td> </td><td> </td><td><code class="literal">RELEASECOUNTRY</code></td><td><code class="literal">ICNT</code></td></tr><tr><td>Дата выпуска</td><td> </td><td><code class="literal">TDRL</code></td><td><code class="literal">RELEASEDATE</code></td><td> </td><td><code class="literal">RELEASEDATE</code></td><td> </td></tr><tr><td>Ремиксер</td><td><code class="literal">TPE4</code></td><td><code class="literal">TPE4</code></td><td><code class="literal">REMIXER</code></td><td><code class="literal">WM/ModifiedBy</code></td><td><code class="literal">REMIXER</code></td><td><code class="literal">IEDT</code></td></tr><tr><td>Упорядочить по альбомам</td><td><code class="literal">TSOA</code></td><td><code class="literal">TSOA</code></td><td><code class="literal">soal</code></td><td><code class="literal">WM/AlbumSortOrder</code></td><td><code class="literal">ALBUMSORT</code></td><td> </td></tr><tr><td>Упорядочить по исполнителям альбомов</td><td><code class="literal">TSO2</code></td><td><code class="literal">TSO2</code></td><td><code class="literal">soaa</code></td><td> </td><td><code class="literal">ALBUMARTISTSORT</code></td><td> </td></tr><tr><td>Упорядочить по исполнителям</td><td><code class="literal">TSOP</code></td><td><code class="literal">TSOP</code></td><td><code class="literal">soar</code></td><td><code class="literal">WM/ArtistSortOrder</code></td><td><code class="literal">ARTISTSORT</code></td><td> </td></tr><tr><td>Упорядочить по композиторам</td><td><code class="literal">TSOC</code></td><td><code class="literal">TSOC</code></td><td><code class="literal">soco</code></td><td> </td><td><code class="literal">COMPOSERSORT</code></td><td> </td></tr><tr><td>Упорядочить по именам</td><td><code class="literal">TSOT</code></td><td><code class="literal">TSOT</code></td><td><code class="literal">sonm</code></td><td><code class="literal">WM/TitleSortOrder</code></td><td><code class="literal">TITLESORT</code></td><td> </td></tr><tr><td>Подзаголовок</td><td> </td><td><code class="literal">TSST</code></td><td><code class="literal">SUBTITLE</code></td><td><code class="literal">WM/SubTitle</code></td><td><code class="literal">SUBTITLE</code></td><td><code class="literal">PRT1</code></td></tr><tr><td>Сайт</td><td><code class="literal">WOAR</code></td><td><code class="literal">WOAR</code></td><td><code class="literal">WEBSITE</code></td><td><code class="literal">WM/AuthorURL</code></td><td><code class="literal">WEBSITE</code></td><td><code class="literal">IBSU</code></td></tr><tr><td>Работа</td><td><code class="literal">TIT1</code></td><td><code class="literal">TIT1</code></td><td><code class="literal">©wrk</code></td><td><code class="literal">WM/ContentGroupDescription</code></td><td><code class="literal">WORK</code></td><td> </td></tr><tr><td>Веб-страница аудиофайла</td><td><code class="literal">WOAF</code></td><td><code class="literal">WOAF</code></td><td> </td><td><code class="literal">WM/AudioFileURL</code></td><td><code class="literal">WWWAUDIOFILE</code></td><td> </td></tr><tr><td>Веб-страница источника аудио</td><td><code class="literal">WOAS</code></td><td><code class="literal">WOAS</code></td><td> </td><td><code class="literal">WM/AudioSourceURL</code></td><td><code class="literal">WWWAUDIOSOURCE</code></td><td> </td></tr></tbody></table></div></div><br class="table-break" /><p>Заметки по поводу привязок унифицированных названий фреймов: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Количество унифицированных названий фреймов ограничено возможностью установки надёжных соответствий для всех поддерживаемых форматов файлов. Большинство тегов поддерживает фреймы с произвольными названиями; такие будут использованы в случае, если не будет доступен тот или иной особый фрейм (например, имена в верхнем регистре в столбце MP4). Если такой возможности нет, некоторые типы фреймов могут не поддерживаться для определённого формата, например, «Автор» и «Исполнитель» для ASF (WMA). </p></li><li class="listitem"><p>Привязки выбираются не случайным образом, они ориентированы на использование фреймов в других приложениях и устройствах. Например, фрейм тега ID3v2 «TPE2 - Группа/оркестр/аккомпанемент» не предполагает использование в поле исполнителя альбома, но такое использование довольно распространено. С другой стороны, фактическое назначение ID3v2 обуславливает использование этого фрейма для поля оркестра при импорте (например, из Discogs), хоть это и может казаться несколько странным для других форматов тегов. </p></li><li class="listitem"><p>Привязки не всегда взаимно однозначны. Например, ID3v2.3 использует фрейм IPLS как для поля «Аранжировщик», так и для поля «Исполнитель». При обратном преобразовании оба фрейма будут отображаться как «Аранжировщик». </p></li><li class="listitem"><p>Фреймы «Аранжировщик» и «Исполнитель» используют определённый формат для своего содержимого: «вклад 1|автор 1|вклад 2|автор 2|...», например, «Хормейстер|Ernst Dunshirn|Сопрано-вокал|Анна Нетребко». Будут созданы фреймы IPLS (ID3v2.3) или TIPL/TMCL (ID3v2.4) со списком строк в указанном формате (разделителем строк будет символ «|») . Значения в этом формате также устанавливаются при импорте данных с серверов, предоставляющих эту информацию. </p></li><li class="listitem"><p>Чтобы явно использовать конкретное название фрейма, которое конфликтует с унифицированным названием, добавьте перед самим названием восклицательный знак. Например, добавление к комментарию Vorbis фрейма «<em class="replaceable"><code>Media</code></em>» приведёт к созданию фрейма под названием «<code class="literal">SOURCEMEDIA</code>» из-за привязки к унифицированному типу. Чтобы добавить именно фрейм «<code class="literal">MEDIA</code>» (а не «<code class="literal">SOURCEMEDIA</code>»), следует указать «<code class="literal">!MEDIA</code>»; это позволит принудительно задать именно такое название фрейма. </p></li></ul></div><p>
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="synchronized-lyrics"></a>Синхронизация текста песни с временными кодами событий</h3></div></div></div><p>Для изменения информации, синхронизирующейся с аудиоданными, предусмотрен специальный редактор. Эти фреймы поддерживаются в тегах ID3v2.3.0 и ID3v2.4.0. Чтобы добавить такой фрейм, выберите его название из списка, который появляется после нажатия кнопки <span class="guibutton">Добавить</span> — <span class="guilabel">Синхронизированный текст</span> или <span class="guilabel">Коды привязки ко времени событий</span>, соответственно. Для обоих типов используется один и тот же редактор, однако для кодов привязки ко времени событий предусмотрен только предварительно определённый набор событий, а для синхронизированного текста песни придётся ввести сам текст. Далее рассматривается пример редактирования синхронизированного текста песни. </p><p>Допустим, выбран файл с тегом ID3v2 и с помощью кнопки <span class="guibutton">Добавить</span> запущен редактор текста с опцией <span class="guilabel">Синхронизированный текст</span>. Если синхронизированный текст уже существует, выберите его и нажмите кнопку <span class="guibutton">Изменить</span>. После этого текущий файл будет автоматически открыт в проигрывателе, что позволит воспроизводить его и синхронизировать текст. </p><p>Параметры в верхней части окна редактора SYLT, как правило, не требуют внесения изменений. Если текст песни содержит символы, которых нет в наборе символов «Латиница 1», рекомендуется изменить кодировку текста на UTF16 (или UTF8 для ID3v2.4.0). Если текст песни написан на английском языке и требуется сохранить максимальную совместимость, рекомендуется использовать кодировку ISO-8859-1. </p><p>Раздел <span class="guilabel">Текст</span> содержит шесть кнопок в верхней части окна. Кнопка <span class="guibutton">Добавить</span> позволяет добавить в таблицу новое временное событие. Значение времени берётся из позиции в проигрывателе, поэтому добавление записи во время воспроизведения дорожки добавит строку для текущей позиции воспроизведения. События в таблице должны располагаться в хронологическом порядке, поэтому строки будут добавляться соответствующим образом. Записи с некорректными метками времени обрабатываются особым образом: если текущая выделенная строка содержит некорректное время, будет выполнена замена этой метки на текущее время, а не добавление новой строки. Если текущее время является корректным, будет использоваться первая строка с некорректным временем, если таковая имеется. Такой принцип работы должен упростить добавление меток времени, если в таблице уже есть текст песни, но отсутствуют метки (так происходит при импорте несинхронизированного текста). Обратите внимание, что некорректное время обозначается как 00:00.00, то есть так же, как и время самого начала дорожки, которое не является некорректным. Чтобы сделать время некорректным, нажмите клавишу <span class="keycap"><strong>Delete</strong></span> или воспользуйтесь пунктом вызываемого правой кнопкой мыши контекстного меню <span class="guimenu">Очистить</span>. Новые строки, созданные путём вставки с помощью пункта контекстного меню <span class="guimenu">Вставить строку</span> или при импорте несинхронизированного текста с помощью кнопок <span class="guibutton">Из буфера обмена</span> или <span class="guibutton">Импорт...</span>, также содержат некорректные метки времени. Чтобы удалить строки из таблицы, воспользуйтесь кнопкой <span class="guibutton">Удалить</span> или пунктом контекстного меню <span class="guimenu">Удалить строки</span>. </p><p>Чтобы импортировать синхронизированный текст из файла, воспользуйтесь кнопкой <span class="guibutton">Импорт...</span>. Ожидаемым форматом файла является простой или усовершенствованный формат LRC. Если первая строка в выбранном файле начинается не с квадратной скобки, приложение распознает файл как простой текстовый файл с несинхронизированным текстом. Строки из такого файла будут импортированы с некорректными метками времени. Данные времени возможно добавить с помощью кнопки <span class="guibutton">Добавить</span> или ввести вручную. Также возможно импортировать текст путём копирования со вставкой с помощью кнопки <span class="guilabel">Из буфера обмена</span>. Чтобы записать синхронизированный текст в файл формата LRC, воспользуйтесь кнопкой <span class="guibutton">Экспорт...</span>. Обратите внимание, что экспортируются лишь записи с корректными метками времени, при этом сами записи будут упорядочены по времени. Записи с некорректными метками времени не сохраняются во фрейме SYLT, поэтому перед закрытием диалогового окна убедитесь, что указаны все данные времени. </p><p><a class="ulink" href="http://id3.org/id3v2.4.0-frames" target="_top">Спецификация ID3</a> предлагает использование метки времени для каждого слога. Однако большинство проигрывателей поддерживают только разделение текста на уровне строки или предложения. Чтобы обеспечить поддержку обоих способов использования, <span class="application">Kid3</span> следует тем же принципам, что и <a class="ulink" href="http://www.compuphase.com/software_sylteditor.htm" target="_top">редактор SYLT</a>. Введённый в таблицу текст считается началом новой строки, если он не начинается с пробела или дефиса. Из этого правила есть исключения: возможно начать строку с символа подчёркивания («_») для принудительного продолжения строки или с символа решётки («#») для принудительного разрыва строки. Эти спецсимволы не сохраняются во фрейме SYLT. Внутри фрейма SYLT новые строки начинаются с символа перевода строки (шестнадцатеричного 0A), а продолжение строк — нет. При чтении фреймов SYLT <span class="application">Kid3</span> проверяет, начинается ли первая запись с символа перевода строки. Если это не так, приложение предполагает, что все записи являются отдельными строками, а продолжение по слогам не используется. </p><p>При воспроизведении дорожки будет подсвечиваться строка, соответствующая воспроизводимой позиции, что позволяет проверить правильность синхронизации информации. Если требуется добавить смещение на одну или несколько меток времени, воспользуйтесь пунктом вызываемого правой кнопкой мыши контекстного меню <span class="guimenu">Добавить смещение...</span>. Отрицательные значения позволяют уменьшить значения меток времени. Пункт контекстного меню <span class="guimenu">Прокрутка до положения</span> позволяет установить позицию воспроизведения в значение времени выбранной строки. </p><p>
<span class="emphasis"><em>Рекомендуемый порядок действий для синхронизации текста песни</em></span>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Получите несинхронизированный текст, например, с помощью функции <span class="guimenu">Lyrics</span> → <span class="guimenuitem">Embed Lyrics</span> в контекстном меню списка файлов.</p></li><li class="listitem"><p>Скопируйте несинхронизированный текст в буфер обмена, перейдите к строке <span class="guilabel">Текст</span> в таблице фреймов и нажмите комбинацию клавиш <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>C</strong></span>.</p></li><li class="listitem"><p>Добавьте фрейм синхронизированного текста (<span class="guibutton">Добавить...</span>, <span class="guilabel">Синхронизированный текст</span>, <span class="guibutton">OK</span>), затем нажмите кнопку <span class="guibutton">Из буфера обмена</span>.</p></li><li class="listitem"><p>После этого в таблицу будут добавлены все строки несинхронизированного текста, при этом все метки времени будут некорректными (0:0:0.00). Перед продолжением возможно удалить пустые записи.</p></li><li class="listitem"><p>Запустите воспроизведение песни с помощью кнопки <span class="guibutton">►</span> на панели воспроизведения в нижней части главного окна.</p></li><li class="listitem"><p>Когда появится следующая строка текста с некорректной меткой времени, нажмите кнопку <span class="guibutton">Добавить</span> или комбинацию клавиш <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>A</strong></span>, и метка будет обновлена.</p></li><li class="listitem"><p>Повторяйте это действие, пока не будут установлены все метки времени. Если что-то оказалось пропущено, остановите воспроизведение и очистите метки с помощью клавиши <span class="keycap"><strong>Delete</strong></span> или путём выделения меток и выбора пункта <span class="guimenuitem">Очистить</span> в контекстном меню. Чтобы возобновить воспроизведение с определённой метки, воспользуйтесь функцией контекстного меню <span class="guimenuitem">Прокрутка до положения</span>. </p></li></ul></div><p>
</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="file-menu"></a>Меню «Файл»</h2></div></div></div><p>
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Открыть...</span> (<span class="shortcut"><strong><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>O</strong></span></strong></span>)</span></dt><dd><p><span class="action">Открывает каталог.</span> В списке файлов будут отображаться все файлы, соответствующие выбранному фильтру имён файлов, а выбранный файл будет выделен.</p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Последние файлы</span></span></dt><dd><p><span class="action">Открывает последний открытый каталог.</span></p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Открыть каталог...</span> (<span class="shortcut"><strong><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>D</strong></span></strong></span>)</span></dt><dd><p><span class="action">Открывает каталог.</span> В списке файлов будут отображаться все файлы, соответствующие выбранному фильтру имён файлов.</p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Обновить</span> (<span class="shortcut"><strong><span class="keycap"><strong>F5</strong></span></strong></span>)</span></dt><dd><p><span class="action">Обновляет каталог.</span> Перед обновлением следует сохранить изменённые файлы. Развёрнутые вложенные папки будут свёрнуты.</p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Сохранить</span> (<span class="shortcut"><strong><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>S</strong></span></strong></span>)</span></dt><dd><p><span class="action">Сохраняет все изменённые файлы в каталоге.</span> Изменённые файлы отмечены значком дискеты в списке файлов. Если были изменены названия файлов, файлы будут соответствующим образом переименованы.</p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Отменить изменения</span></span></dt><dd><p><span class="action">Отменяет изменения одного или нескольких файлов.</span> Если в списке файлов не было выделено ни одного файла, будут отменены изменения всех файлов. Если же в списке имеются выделенные файлы, будут отменены изменения только этих файлов. </p></dd><dt><a id="import"></a><span class="term"><span class="guimenu">File</span> → <span class="guimenuitem">Импорт...</span></span></dt><dd><p><span class="action">Диалог импорта</span> позволяет импортировать данные непосредственно с сервера freedb.org, сервера MusicBrainz, Discogs, Amazon или из других источников списков воспроизведения в альбомах, которые предоставляют данные в текстовом формате. </p><p><a id="import-freedb"></a>Чтобы импортировать данные с сервера freedb.org, в диалоге импорта выберите в меню <span class="guibutton">С сервера...</span> вариант <span class="guibutton">gnudb.org</span>. В появившемся диалоговом окне введите в два верхних поля данные для поиска исполнителя и названия альбома; альбомы, соответствующие запросу, будут отображены после нажатия кнопки <span class="guibutton">Найти</span> и получения результатов с сайта <a class="ulink" href="http://www.gnudb.org" target="_top">www.gnudb.org</a>. Импорт данных дорожек для альбома выполняется двойным щелчком левой кнопкой мыши по альбому в списке. Для импорта данных возможно выбрать как сервер freedb.org, так и путь CGI. Импортированные данные будут отображаться в таблице предварительного просмотра диалога импорта. Если отображаемые результаты удовлетворяют требованиям, запустите процесс импорта, закрыв диалоговое окно с помощью кнопки <span class="guibutton">OK</span>. </p><p><a id="import-discogs"></a>Чтобы выполнить поиск на сервере Discogs, выберите в раскрывающемся списке вариант <span class="guibutton">Discogs</span>. Как и в диалоге поиска <span class="guibutton">gnudb.org</span>, следует указать исполнителя и название альбома, а затем выбрать нужный вариант из списка альбомов. Возможно ввести <span class="guilabel">Токен</span>, чтобы использовать программный интерфейс RESTful Discogs API вместо веб-интерфейса, который часто меняется, тем самым нарушая работу анализатора импорта. Потребуется создать учётную запись на сайте <a class="ulink" href="https://www.discogs.com/" target="_top">Discogs</a>, затем там же сгенерировать токен (Настройки/Разработчикам, Сгенерировать токен). Не забудьте нажать кнопку <span class="guibutton">Сохранить параметры</span> после ввода токена, чтобы использовать его и в последующих запросах. Если установлен флажок <span class="guilabel">Стандартные теги</span>, будет импортирована стандартная информация, например, об исполнителе, альбоме и названиях дорожек. Если установлен флажок <span class="guilabel">Дополнительные теги</span>, будет также импортирована доступная дополнительная информация, например, об аккомпанементе, аранжировщиках или издателе. Если установлен флажок <span class="guilabel">Обложка</span>, также будет загружено изображение обложки альбома (если оно доступно). </p><p><a id="import-amazon"></a>Чтобы выполнить поиск на Amazon, выберите в раскрывающемся списке вариант <span class="guibutton">Amazon</span>. Как и в диалоге поиска <span class="guibutton">gnudb.org</span>, следует указать исполнителя и название альбома, а затем выбрать нужный вариант из списка альбомов. Если установлен флажок <span class="guilabel">Дополнительные теги</span>, будет импортирована доступная дополнительная информация, например, об аккомпанементе, аранжировщиках или издателе. Если установлен флажок <span class="guilabel">Обложка</span>, также будет загружено изображение обложки альбома (если оно доступно). </p><p><a id="import-musicbrainzrelease"></a>Таким же образом производится поиск в базе данных альбомов MusicBrainz (выберите в раскрывающемся списке вариант <span class="guibutton">MusicBrainz (релиз)</span>). Рабочий процесс аналогичен процессу, описанному для функции импорта с сервера <span class="guibutton">gnudb.org</span>. </p><p><a id="import-musicbrainz"></a>Чтобы импортировать данные с сервера MusicBrainz, воспользуйтесь диалогом, который появляется при выборе в меню варианта <span class="guibutton">MusicBrainz (отпечаток)</span>. Выбор сервера аналогичен выбору в диалоге импорта из freedb. Ниже располагается таблица, отображающая импортированные данные дорожек. Правый столбец содержит состояние запроса MusicBrainz (при первом открытии диалога — «В ожидании»). Производится поиск отпечатка, и, если результата не будет, приложение попробует провести другой поиск с использованием тегов файла. Таким образом, для успешного поиска в MusicBrainz желательно сохранить имеющиеся данные (например, данные об исполнителе и альбоме) в метках перед импортом. Если соответствующая запросу запись была найдено, поиск завершится с состоянием «Распознано». Если же найти такую запись не удастся, будет показано уведомление об отсутствии результатов или несколько неточных соответствий, из которых пользователю потребуется выбрать нужный вариант. Кнопки <span class="guibutton">OK</span> и <span class="guibutton">Применить</span> позволяют использовать импортированные данные, а кнопка <span class="guibutton">Отмена</span> закрывает диалог. Закрытие может занять некоторое время, так как потребуется отключить весь механизм MusicBrainz. </p><p><a id="import-text"></a>Для импорта текстовых данных предназначен вложенный диалог, который вызывается нажатием кнопки <span class="guibutton">Из файла или буфера обмена...</span>. В этом диалоге доступны несколько предустановленных форматов импорта. Первые два, «CSV unquoted» и «CSV quoted», используются для импорта данных, которые ранее были экспортированы с помощью диалога экспорта. Эти данные возможно редактировать с помощью электронной таблицы. Они должны быть сохранены с использованием символов табуляции в качестве разделителей. После такой обработки данные возможно импортировать с использованием формата «CSV quoted». Этот формат позволяет выполнять более тонкую настройку, чем «CSV unquoted», однако его поля не должны содержать двойных кавычек. Если производится только экспорт из <span class="application">Kid3</span> для дальнейшего импорта, рекомендуется использовать формат «CSV unquoted». Обратите внимание, что в контекстном меню списка файлов также есть пункты «Экспорт CSV» и «Импорт CSV», предусматривающие использование сценариев для более полной, эффективной и гибкой обработки данных CSV при экспорте и импорте. </p><p>Ещё один формат, «freedb <acronym class="acronym">HTML</acronym> text», используется для копирования информации с <acronym class="acronym">HTML</acronym>-страницы <a class="ulink" href="http://freedb.org" target="_top">freedb.org</a>. Найдите альбом во freedb и, если нужная информация отобразится в браузере, скопируйте содержимое в буфер обмена. Затем нажмите кнопку <span class="guibutton">Из буфера обмена</span>, и в таблице предварительного просмотра в верхней части диалога будут отображены импортированные дорожки. Если импортированные данные соответствуют ожидаемому результату, закройте диалог с помощью кнопки <span class="guibutton">OK</span>, что позволит вставить данные в теги в текущем каталоге. Место назначения (<span class="guilabel">Тег 1</span>, <span class="guilabel">Тег 2</span> или <span class="guilabel">Тег 1 и тег 2</span>) указывается с помощью раскрывающегося списка. Для корректного присваивания тегов файлы должны быть расположены в правильном порядке. Обеспечить такой порядок возможно путём нумерации файлов. </p><p>Следующий предустановленный формат импорта — это «freedb <acronym class="acronym">HTML</acronym> source». Этот формат возможно использовать, когда данные хранятся в формате <acronym class="acronym">HTML</acronym>. Импорт производится с помощью кнопки <span class="guibutton">Из файла</span>, которая открывает окно выбора файла, или путём копирования содержимого файла из редактора с последующим импортом из буфера обмена. Этот формат может быть полезен для автономного импорта, хотя документ <acronym class="acronym">HTML</acronym> также возможно открыть в браузере, а затем импортировать в первом формате с помощью буфера обмена. </p><p>Доступны и другие предустановленные форматы, например, «Track Title Time». Чтобы создать собственный формат и позже настроить его, воспользуйтесь кнопкой <span class="guibutton">Добавить</span>. В двух строках под названием формата возможно указать регулярные выражения для захвата полей из импортируемого текста. Первое регулярное выражение будет проанализировано один раз для каждого документа для получения таких данных о каждом альбоме, как имя исполнителя, название альбома, год выхода и жанр. Вторая строка анализируется с начала документа и до конца, чтобы получить данные дорожки (её номер и заголовок). Регулярные выражения включают в себя все функции, предоставляемые <span class="trademark">Qt</span>™, то есть большинство возможностей регулярных выражений Perl. Использование скобок «(..)» позволяет создать буферы захвата для полей для импорта. Перед ними возможно указывать специальные коды <span class="application">Kid3</span> для захвата конкретных полей. Эти коды аналогичны кодам для формата имён файлов, и помимо кодов, перечисленных далее, возможно использовать любое название фрейма: </p><p><a id="format-codes"></a>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>%s %{title} Заголовок (композиции)</p></li><li class="listitem"><p>%a %{artist} Исполнитель</p></li><li class="listitem"><p>%l %{album} Альбом</p></li><li class="listitem"><p>%c %{comment} Комментарий</p></li><li class="listitem"><p>%y %{year} Год</p></li><li class="listitem"><p>%t %{track} Дорожка</p></li><li class="listitem"><p>%g %{genre} Жанр</p></li><li class="listitem"><p>%d %{duration} Длительность</p></li></ul></div><p>
</p><p>Например, регулярное выражение дорожки (вторая строка) для импорта из списка воспроизведения <code class="filename">.m3u</code> может выглядеть как «<code class="literal">%{track}(\d+)\s+%{title}(\S[^\r\n]*)\.mp3[\r\n]</code>». Все форматы возможно изменить путём редактирования регулярных выражений и названия и последующего нажатия кнопки <span class="guibutton">Сохранить параметры</span>. Они будут храниться в файле <code class="filename">kid3rc</code> в каталоге конфигурации. Этот файл возможно отредактировать напрямую для получения большего количества форматов импорта или удалить для возврата к форматам по умолчанию. Чтобы удалить форматы, воспользуйтесь кнопкой <span class="guibutton">Убрать</span>. </p><p>Параметр <span class="guilabel">Точность</span> отображает оценку того, насколько хорошо импортированные данные соответствуют заданным дорожкам. Степень соответствия в процентах основана на длительности дорожек или названиях файлов. Параметр <span class="guilabel">Обложки</span> показывает <acronym class="acronym">URL</acronym>-адреса изображений обложек альбомов, которые будут загружены. </p><p>Чтобы проверить, соответствуют ли импортированные данные дорожек текущему набору файлов, следует сравнить длительность импортированных дорожек с длительностью этих файлов. Для этого служит флажок <span class="guibutton">Проверять максимальную допустимую разницу во времени (в секундах):</span>, который позволяет указать максимально допустимую погрешность в секундах. Если приложение обнаружит несоответствие длительности, данные о длительности будут обозначены красным фоном в таблице предварительного просмотра. </p><p>Если файлы расположены не в же порядке, что и импортированные дорожки, потребуется изменить назначенные этим файлам дорожки. Эту задачу упрощает опция <span class="guilabel">Сопоставлять с:</span> с кнопками <span class="guibutton">Длительность</span>, <span class="guibutton">Дорожка</span> и <span class="guibutton">Название</span>. Эти кнопки позволяют переупорядочить дорожки в соответствии с нужным полем. Чтобы отредактировать порядок дорожек вручную, перетащите дорожку на новое место с помощью <span class="mousebutton">левой</span> кнопки мыши в сочетании с клавишей <span class="keycap"><strong>Ctrl</strong></span>. </p><p>Открытый диалог импорта содержит данные тегов. Тип тега («Тег 1», «Тег 2», «Тег 1 и тег 2») выбирается в раскрывающемся списке <span class="guilabel">Место назначения</span>. Кнопка справа от раскрывающегося списка позволяет отменить изменения, чтобы вновь показать в таблице текущее содержимое тегов. Флажки в первом столбце таблицы позволяют выбрать дорожки, для которых будут импортированы данные. Это может быть полезно, например, если папка содержит дорожки с обоих компакт-дисков двойного компакт-диска, а импортировать следует только данные второго компакт-диска. </p><p>Чтобы идентифицировать дорожки, данные которых будут импортированы, возможно включить показ названий файлов или полного пути к файлам с помощью контекстного меню заголовка таблицы. Значения в таблице импорта доступны для редактирования. Кнопка отмены изменений, расположенная справа от раскрывающегося списка <span class="guilabel">Место назначения</span>, служит для восстановления содержимого тегов. Ей также возможно воспользоваться после изменения содержания пункта <span class="guilabel">Место назначения</span>. </p><p>Почти во всех диалогах присутствует кнопка <span class="guibutton">Сохранить параметры</span>, позволяющая сохранить параметры конкретного диалога и размеры окна. </p><p><a id="import-tags"></a>Кнопка <span class="guibutton">Из тегов...</span> открывает вложенный диалог для заполнения данных фреймов тегов на основе других фреймов тегов. Эта функция позволяет просто скопировать информацию из одного тега в другой или извлечь часть фрейма и вставить её в другой фрейм. </p><p>Как и в диалоге <a class="link" href="#import-text">импорта из файла или буфера обмена</a>, здесь представлены легко настраиваемые форматы для выполнения различных действий. Предусмотрены предустановленные форматы для копирования значения названия альбома в поля исполнителя, композитора или дирижёра, а также для извлечения номера дорожки из полей заголовка, содержащих число. Также предусмотрен формат для получения значения подзаголовка из поля заголовка. </p><p>Следующий пример описывает алгоритм добавления пользовательского формата, который будет вставлять информацию из поля «Подзаголовок» в поле «Комментарий». Создайте новый формат с помощью кнопки <span class="guibutton">Добавить</span> и укажите новое название, например, «Подзаголовок в комментарий». Затем введите «<strong class="userinput"><code>%{subtitle}</code></strong>» в поле <span class="guilabel">Источник</span> и «<strong class="userinput"><code>%{comment}(.*)</code></strong>» в <span class="guilabel">Извлечение</span>, а затем нажмите кнопку <span class="guibutton">Сохранить параметры</span>. </p><p>Выражение в поле <span class="guilabel">Источник</span> может содержать <a class="link" href="#format-codes">коды формата</a> для произвольных фреймов тегов. Использование нескольких кодов позволяет комбинировать содержимое разных фреймов. Для каждой дорожки текст генерируется из её тегов с использованием формата <span class="guilabel">Источник</span>, а затем к этому тексту применяется регулярное выражение из поля <span class="guilabel">Извлечение</span> для установки новых значений тегов. Коды формата используются перед захватывающими круглыми скобками, чтобы указать фрейм тега, в котором будет сохранён захваченный текст. Всё это работает таким же образом, как и в функции <a class="link" href="#import-text">импорта из файла или буфера обмена</a>. </p><p>Функцией <span class="guimenuitem">Импорт из тегов...</span> также возможно воспользоваться непосредственно в меню <span class="guimenu">Файл</span>. Разница между этими двумя инструментами заключается в том, что вложенный диалог функции импорта работает со всеми файлами в текущем каталоге, тогда как функция в меню работает с выбранными файлами (которые могут находиться в разных каталогах). Функция в меню поддерживает дополнительный код «<code class="literal">%{__return}</code>» для возврата полученного значения, что может быть полезно при работе с интерфейсами командной строки и QML. </p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Импорт из gnudb.org...</span></span></dt><dd><p><span class="action">Импорт с сервера freedb.org с помощью поиска по альбомам в gnudb.org.</span> Этот пункт меню открывает то же окно импорта, что и пункт меню <span class="guimenuitem">Импорт...</span>, но при этом сразу появляется диалог <span class="guibutton">gnudb.org</span>.</p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Импорт из Discogs...</span></span></dt><dd><p><span class="action">Импорт с сервера Discogs.</span> Этот пункт меню открывает то же окно импорта, что и пункт меню <span class="guimenuitem">Импорт...</span>, но при этом сразу появляется диалог <span class="guibutton">Discogs</span>.</p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Импорт из Amazon...</span></span></dt><dd><p><span class="action">Импорт из Amazon.</span> Этот пункт меню открывает то же окно импорта, что и пункт меню <span class="guimenuitem">Импорт...</span>, но при этом сразу появляется диалог <span class="guibutton">Amazon</span>.</p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Импорт из MusicBrainz (релиз)...</span></span></dt><dd><p><span class="action">Импорт из базы данных альбомов MusicBrainz.</span> Этот пункт меню открывает то же окно импорта, что и пункт меню <span class="guimenuitem">Импорт...</span>, но при этом сразу появляется диалог <span class="guibutton">MusicBrainz (релиз)</span>.</p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Импорт из MusicBrainz (отпечаток)...</span></span></dt><dd><p><span class="action">Импорт с сервера MusicBrainz.</span> Этот пункт меню открывает то же окно импорта, что и пункт меню <span class="guimenuitem">Импорт...</span>, но при этом сразу появляется диалог <span class="guibutton">MusicBrainz (отпечаток)</span>.</p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Импорт из тегов...</span></span></dt><dd><p>Аналогично кнопке «<a class="link" href="#import-tags">Из тегов...</a>», но импорт применяется к выделенным файлам.</p></dd><dt><a id="batch-import"></a><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Автоматический импорт...</span></span></dt><dd><p><span class="action">Автоматический импорт</span> позволяет импортировать данные для нескольких альбомов с различных веб-сервисов. Если в списке файлов выбраны каталоги, будут импортированы данные дорожек для выделенных каталогов. Если не выделен ни один каталог, будут импортированы данные для всех каталогов в списке файлов. </p><p>Тип тега («Тег 1», «Тег 2», «Тег 1 и тег 2») выбирается в раскрывающемся списке <span class="guilabel">Место назначения</span>. </p><p>Профили указывают, к каким серверам следует обратиться, чтобы получить информацию об альбоме. Некоторые профили предустановлены («All», «MusicBrainz», «Discogs», «Cover Art»); чтобы добавить дополнительные профили, воспользуйтесь кнопкой <span class="guibutton">Добавить</span>, расположенной справа от раскрывающегося списка <span class="guilabel">Профиль</span>. </p><p>В таблице ниже приведён список серверов, которые будут использоваться при импорте информации об альбоме с помощью выбранного профиля. Процесс импорта данных альбома завершается после получения всей необходимой информации, поэтому порядок строк в таблице имеет значение. Изменить порядок позволяют кнопки <span class="guibutton">Переместить вверх</span> и <span class="guibutton">Переместить вниз</span>. Кнопка <span class="guibutton">Изменить...</span> позволяет внести изменения в существующую запись. В столбце <span class="guibutton">Сервер</span> представлены те же серверы, что и в функциях импорта. Флажки <span class="guilabel">Стандартные теги</span>, <span class="guilabel">Дополнительные теги</span>, <span class="guilabel">Обложки</span> определяют информацию, которая будет получена с сервера. В столбце <span class="guilabel">Точность</span> указывается точность, которой требуется достичь при импорте данных. Если заданный уровень точности не будет достигнут, приложение попытается получить данные со следующего сервера. Аналогичный диалог со свойствами сервера появляется при нажатии кнопки <span class="guibutton">Добавить...</span> для добавления новой записи сервера. Кнопка <span class="guibutton">Убрать</span> позволяет удалить существующие записи. </p><p>Чтобы запустить автоматический пакетный импорт с выбранным профилем, нажмите кнопку <span class="guibutton">Начать</span>. Подробные сведения о запущенном импорте отображаются в верхней части диалогового окна. Чтобы прервать процесс, нажмите кнопку <span class="guibutton">Прервать</span>. </p></dd><dt><a id="browse_pictures"></a><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Найти обложки...</span></span></dt><dd><p>Диалог <span class="action">«Найти обложки»</span> позволяет найти и загрузить обложки альбомов. Поля <span class="guilabel">Исполнитель и альбом</span> заполняются автоматически, если в тегах доступны соответствующие данные. В разделе <span class="guilabel">Источник</span> доступно большое количество веб-сайтов с обложками. Под названием источника расположена <acronym class="acronym">URL</acronym>-ссылка, в которой в качестве параметров указаны исполнитель и альбом. Чтобы вставить значения артиста и альбома в кодировке <acronym class="acronym">URL</acronym>, воспользуйтесь командами «<strong class="userinput"><code>%u{artist}</code></strong>» и «<strong class="userinput"><code>%u{album}</code></strong>». Команды для вставки других значений из тегов доступны в разделе «<a class="link" href="#configure-kid3">Настройка <span class="application">Kid3</span></a>» (описание вкладки <span class="guilabel">Команды пользователя</span>). Чтобы добавить дополнительные источники обложек, замените запись «Custom Source» названием нового источника и нажмите клавишу <span class="keycap"><strong>Enter</strong></span>; после этого следует указать <acronym class="acronym">URL</acronym>-адрес и нажать кнопку <span class="guibutton">Сохранить параметры</span>. Результат будет отображён в верхней части диалога, а чтобы открыть соответствующий адрес в браузере по умолчанию, указанном в параметрах, воспользуйтесь кнопкой <span class="guibutton">Браузер</span>. Изображение обложки возможно перетащить из окна браузера в окно <span class="application">Kid3</span>, после чего оно будет сохранено во фрейме изображения выбранных файлов. </p><p>Так как не все браузеры поддерживают функцию перетаскивания изображений, а многие изображения на веб-сайтах представлены в виде <acronym class="acronym">URL</acronym>-адресов, в таких случаях <span class="application">Kid3</span> получит не изображение, а его <acronym class="acronym">URL</acronym>-адрес. Если <acronym class="acronym">URL</acronym>-адрес указывает на изображение, оно будет загружено, но, если <acronym class="acronym">URL</acronym>-адрес указывает на какой-либо интернет-источник, его придётся преобразовать в соответствующее изображение. Такие привязки указаны в таблице <span class="guilabel">Извлечение <acronym class="acronym">URL</acronym>-адреса</span>. Левый столбец <span class="guilabel">Соответствие</span> содержит регулярные выражения, которые сравниваются с <acronym class="acronym">URL</acronym>-адресами. Если программе удаётся установить соответствие, захваченные выражения в скобках вставляются в шаблон в правый столбец <span class="guilabel"><acronym class="acronym">URL</acronym>-адрес изображения</span> (в позиции, указанные заменителями \1 и так далее). Заменённое регулярное выражение содержит <acronym class="acronym">URL</acronym>-адрес изображения. Такой способ позволяет импортировать обложки из Amazon, Google Images и так далее. Также возможно указать собственные соответствия. </p></dd><dt><a id="export"></a><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Экспорт...</span></span></dt><dd><p><span class="action">Диалог экспорта</span> используется для сохранения данных из тегов в файле или в буфере обмена. В верхней части окна редактора доступен предварительный просмотр данных для экспорта. Если данные экспорта содержат символы табуляции, данные будут показаны в виде таблицы. Данные генерируются из тегов в текущем каталоге в соответствии с настроенным форматом. </p><p>Параметры форматирования аналогичны параметрам диалога «Импорт»: верхнее поле содержит название формата (например, «CSV unquoted»), следом идёт заголовок, который будет создан в начале файла. Далее следуют данные дорожки (используются для каждой дорожки). Последнее поле позволяет создать какой-либо завершающий текстовый фрагмент. </p><p>В полях форматирования не должно содержаться регулярных выражений, как в диалоговом окне «Импорт»; там должны быть только выражения форматирования результата со специальными заменителями с символом «%», которые будут заменены значениями из соответствующих тегов. Всё это работает так же, как форматирование названия файла, то есть используются те же коды вместе с дополнительными. Могут использоваться не только коды, перечисленные далее, но и коды с названиями фреймов тегов. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>%s %{title} Заголовок (композиции)</p></li><li class="listitem"><p>%a %{artist} Исполнитель</p></li><li class="listitem"><p>%l %{album} Альбом</p></li><li class="listitem"><p>%c %{comment} Комментарий</p></li><li class="listitem"><p>%y %{year} Год</p></li><li class="listitem"><p>%t %{track} Номер дорожки (например, 01)</p></li><li class="listitem"><p>%t %{track.n} Номер дорожки с шириной поля n (например, 001 для %{track.3})</p></li><li class="listitem"><p>%T %{tracknumber} Номер дорожки (без нулей в начале, например, 1)</p></li><li class="listitem"><p>%g %{genre} Жанр</p></li><li class="listitem"><p>%f %{file} Имя файла</p></li><li class="listitem"><p>%p %{filepath} Путь</p></li><li class="listitem"><p>%{modificationdate} Дата изменения</p></li><li class="listitem"><p>%{creationdate} Дата создания</p></li><li class="listitem"><p>%u %{url} <acronym class="acronym">URL</acronym>-адрес</p></li><li class="listitem"><p>%{dirname} Имя каталога</p></li><li class="listitem"><p>%d %{duration} Длительность в минутах:секундах</p></li><li class="listitem"><p>%D %{seconds} Длительность в секундах</p></li><li class="listitem"><p>%n %{tracks} Количество дорожек в альбоме</p></li><li class="listitem"><p>%e %{extension} Расширение файла</p></li><li class="listitem"><p>%O %{tag1} Формат тега 1 (ID3v1.1 или пустое значение, если не существует)</p></li><li class="listitem"><p>%o %{tag2} Формат тега 2 (ID3v2.3.0, ID3v2.4.0, ID3v2.2.0, ID3v2.2.1, Vorbis, APE, MP4, ASF, или пустое значение, если не существует)</p></li><li class="listitem"><p>%b %{bitrate} Скорость передачи в кбит/с</p></li><li class="listitem"><p>%v %{vbr} Переменная скорость или пустое значение (только для ID3v2.3 с id3lib)</p></li><li class="listitem"><p>%r %{samplerate} Частота дискретизации в Гц</p></li><li class="listitem"><p>%m %{mode} Режим каналов (cтерео или объединённое стерео)</p></li><li class="listitem"><p>%h %{channels} Количество каналов (1 или 2)</p></li><li class="listitem"><p>%k %{codec} Кодек (например, MPEG 1 Layer 3, MP4, Ogg Vorbis, FLAC, MPC, APE, ASF, AIFF, WAV)</p></li></ul></div><p>Предустановлено несколько форматов. В формате «CSV unquoted» поля разделяются символами табуляции. Данные в этом формате возможно снова импортировать в <span class="application">Kid3</span> с использованием одноимённого формата импорта. В формате «CSV quoted» поля дополнительно заключаются в двойные кавычки, что упрощает импорт в приложения для работы с таблицами. Однако, если используется этот формат, эти поля не должны содержать двойные кавычки. Форматы «Extended M3U» и «Extended PLS» позволяют создавать списки воспроизведения с расширенными атрибутами и абсолютными путями к файлам. Формат «HTML» позволяет создавать <acronym class="acronym">HTML</acronym>-страницы с гиперссылками на дорожки. Формат «Kover <acronym class="acronym">XML</acronym>» создаёт файл, который возможно импортировать в программу для печати обложек компакт-дисков Kover. Формат «Technical Details» позволяет предоставить информацию о скорости передачи, частоте дискретизации, каналах и так далее. Наконец, пункт «Custom Format» намеренно оставлен пустым для определения пользовательского формата. Дополнительные пользовательские форматы задаются путём добавления строк в файл <code class="filename">kid3rc</code> в каталоге конфигурации. Остальные форматы возможно изменить в соответствии с потребностями пользователя. </p><p><span class="guilabel">Источник</span> тегов для создания экспортируемых данных (<span class="guilabel">Тег 1</span> или <span class="guilabel">Tег 2</span>) выбирается в раскрывающемся списке. Кнопки <span class="guibutton">В файл...</span> или <span class="guibutton">В буфер обмена</span> позволяют поместить данные в файл или буфер обмена. Кнопки <span class="guibutton">OK</span> и <span class="guibutton">Отмена</span> закрывают диалог, при этом кнопка <span class="guibutton">OK</span> позволяет сохранить текущие параметры диалога. </p></dd><dt><a id="create-playlist"></a><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Создать список воспроизведения...</span></span></dt><dd><p><span class="action">Создаёт список воспроизведения.</span> Формат и содержимое списка воспроизведения возможно настроить с помощью различных параметров.</p><p>Чтобы указать название списка воспроизведения, выберите вариант <span class="guibutton">Совпадает с именем каталога</span> или <span class="guibutton">Формат</span> со значениями из тегов, например, «<strong class="userinput"><code>%{artist} - %{album}</code></strong>» (в этом случае название списка воспроизведения будет складываться из имени исполнителя и названия альбома). Коды формата аналогичны кодам для <a class="link" href="#export">экспорта</a>. Кнопка-переключатель <span class="guibutton">Создать список воспроизведения</span> позволяет создать пустой список воспроизведения с заданным названием. Расширение зависит от указанного формата списка воспроизведения. </p><p>Расположение создаваемого списка воспроизведения указывается в раскрывающемся списке <span class="guilabel">Создать в</span>. </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Текущем каталоге</span></dt><dd><p>Список воспроизведения создаётся в текущем каталоге и содержит только файлы текущего каталога. Текущий каталог — это каталог, в котором расположен текущий файл. Если выделено несколько файлов, текущим файлом, вероятно, будет являться последний выделенный файл.</p></dd><dt><span class="term">Каждом каталоге</span></dt><dd><p>Список воспроизведения создаётся в каждом каталоге, который содержит указанные файлы, и каждый список воспроизведения содержит файлы из соответствующего каталога. </p></dd><dt><span class="term">Каталоге верхнего уровня</span></dt><dd><p>Создаётся только один список воспроизведения в каталоге верхнего уровня (то есть в каталоге со списком файлов). Этот список содержит файлы из каталога верхнего уровня и файлы из всех вложенных каталогов. </p></dd></dl></div><p>
</p><p><span class="guilabel">Формат</span> списка воспроизведения может быть следующим: <span class="guilabel">M3U</span>, <span class="guilabel">PLS</span> или <span class="guilabel">XSPF</span>. </p><p>Если установлен флажок <span class="guibutton">Включать только выбранные файлы</span>, в список воспроизведения будут включены только выделенные файлы. Если выделен каталог, будут выделены все файлы, содержащиеся в нём. Если этот флажок не установлен, в список воспроизведения будут включены все аудиофайлы. </p><p>Параметр <span class="guibutton">Упорядочить по имени файла</span> представляет собой обычный метод сортировки, когда файлы упорядочиваются по имени в алфавитном порядке. Параметр <span class="guibutton">Упорядочить по полю тега</span> позволяет отсортировать файлы по строке формата со значениями из полей тега. Например, «<strong class="userinput"><code>%{track.3}</code></strong>» позволит упорядочить файлы по номеру дорожки («<strong class="userinput"><code>.3</code></strong>» используется для получения трёх цифр с нулями в начале, потому что строки используются для сортировки). Также возможно указать несколько полей, например, «<strong class="userinput"><code>%{genre}%{year}</code></strong>» для сортировки на основе строки с жанром и годом. </p><p>Записи в списке воспроизведения могут содержать относительные или абсолютные пути к файлам в зависимости от того, какой параметр установлен: <span class="guibutton">Использовать относительный путь для файлов в списке воспроизведения</span> или <span class="guibutton">Использовать абсолютный путь для файлов в списке воспроизведения</span>. </p><p>Когда выбрана опция <span class="guibutton">Записать только список файлов</span>, список воспроизведения будет содержать только пути к файлам. Чтобы создать расширенный список воспроизведения с дополнительной информацией, укажите строку формата с помощью параметра <span class="guibutton">Записать информацию, используя</span>. </p></dd><dt><span class="term"><span class="guimenu">Файл</span> → <span class="guimenuitem">Выход</span> (<span class="shortcut"><strong><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Q</strong></span></strong></span>)</span></dt><dd><p><span class="action">Закрывает приложение.</span></p></dd></dl></div><p>
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="edit-menu"></a>Меню «Правка»</h2></div></div></div><p>
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guimenu">Правка</span> → <span class="guimenuitem">Выделить все</span> (<span class="shortcut"><strong><span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>A</strong></span></strong></span>)</span></dt><dd><p>Выделяет все файлы.</p></dd><dt><span class="term"><span class="guimenu">Правка</span> → <span class="guimenuitem">Снять выделение</span> (<span class="shortcut"><strong><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Shift</strong></span>+<span class="keycap"><strong>A</strong></span></strong></span>)</span></dt><dd><p>Снимает выделение со всех файлов.</p></dd><dt><span class="term"><span class="guimenu">Правка</span> → <span class="guimenuitem">Выбрать все файлы в каталоге</span></span></dt><dd><p>Выделяет все файлы в текущем каталоге.</p></dd><dt><span class="term"><span class="guimenu">Правка</span> → <span class="guimenuitem">Предыдущий файл</span> (<span class="shortcut"><strong><span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Вверх</strong></span></strong></span>)</span></dt><dd><p>Выделяет предыдущий файл.</p></dd><dt><span class="term"><span class="guimenu">Правка</span> → <span class="guimenuitem">Следующий файл</span> (<span class="shortcut"><strong><span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Вниз</strong></span></strong></span>)</span></dt><dd><p>Выделяет следующий файл.</p></dd><dt><span class="term"><span class="guimenu">Правка</span> → <span class="guimenuitem">Найти...</span> (<span class="shortcut"><strong><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>F</strong></span></strong></span>)</span></dt><dd><p>Производит поиск строк в именах файлов и тегах. Диалог <span class="guilabel">Найти</span> — это часть диалога <span class="guilabel">Заменить</span>, описание которого приводится далее. </p></dd><dt><a id="find-replace"></a><span class="term"><span class="guimenu">Правка</span> → <span class="guimenuitem">Заменить...</span> (<span class="shortcut"><strong><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>R</strong></span></strong></span>)</span></dt><dd><p>Этот пункт меню открывает диалог для поиска и замены строк в именах файлов и тегах. Чтобы ограничить набор фреймов для проведения поиска, снимите флажок <span class="guilabel">Выбрать все</span> и выделите фреймы, в которых нужно провести поиск. Также доступны параметры для поиска в обратном направлении, с учётом регистра и использованием регулярных выражений.</p><p>В зависимости от количества файлов поиск может занять некоторое время; чтобы прервать поиск, закройте диалог.</p></dd></dl></div><p>
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="tools-menu"></a>Меню «Сервис»</h2></div></div></div><p>
</p><div class="variablelist"><dl class="variablelist"><dt><a id="apply-filename-format"></a><span class="term"><span class="guimenu">Сервис</span> → <span class="guimenuitem">Применить формат имени файла</span></span></dt><dd><p>Когда в диалоге настройки отключён параметр <span class="guilabel">Автоматически применять формат</span> для формата имени файла, этот пункт меню позволяет <span class="action">применить указанный формат к именам выбранных файлов</span>. Эта функция также позволяет проверить соответствие имён файлов настроенному формату путём применения формата ко всем сохранённым файлам и последующей проверки того, были ли какие-либо файлы изменены (и, следовательно, отмечены значком дискеты в списке файлов). </p></dd><dt><a id="apply-tag-format"></a><span class="term"><span class="guimenu">Сервис</span> → <span class="guimenuitem">Применить формат тега</span></span></dt><dd><p>Когда в диалоге настройки отключён параметр <span class="guilabel">Автоматически применять формат</span> для формата тега, этот пункт меню позволяет <span class="action">применить указанный формат к тегам выбранных файлов</span>. Эта функция также позволяет проверить соответствие тегов настроенному формату путём применения формата ко всем сохранённым файлам и последующей проверки того, были ли какие-либо файлы изменены (и, следовательно, отмечены значком дискеты в списке файлов). </p></dd><dt><a id="apply-text-encoding"></a><span class="term"><span class="guimenu">Сервис</span> → <span class="guimenuitem">Применить кодировку текста</span></span></dt><dd><p>При использовании этой функции устанавливается <span class="guilabel">Кодировка текста</span>, указанная на вкладке <span class="guimenu">Настройка</span> → <span class="guimenuitem">Настроить <span class="application">Kid3</span>... </span> → <span class="guimenuitem">Теги</span> → <span class="guimenuitem">Тег 2</span> для всех выбранных файлов. Если выбрана кодировка UTF8, для тегов ID3v2.3.0 будет использоваться UTF16, потому что этот формат не поддерживает UTF8.</p></dd><dt><a id="rename-directory"></a><span class="term"><span class="guimenu">Сервис</span> → <span class="guimenuitem">Переименовать каталог...</span></span></dt><dd><p>Этот диалог позволяет автоматически переименовать текущий открытый каталог в соответствии с тегами в файлах. Предварительно настроено несколько форматов для включения в название каталога информации об исполнителе, альбоме и годе выпуска. Также возможно указать собственный формат и воспользоваться кнопкой <span class="guibutton">Изменить...</span> для редактирования имеющихся форматов. Следующие специальные коды используются для вставки значений тегов в имя каталога: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>%s %{title} Заголовок (композиции)</p></li><li class="listitem"><p>%a %{artist} Исполнитель</p></li><li class="listitem"><p>%l %{album} Альбом</p></li><li class="listitem"><p>%c %{comment} Комментарий</p></li><li class="listitem"><p>%y %{year} Год</p></li><li class="listitem"><p>%t %{track} Номер дорожки (например, 01)</p></li><li class="listitem"><p>%t %{track.n} Номер дорожки с шириной поля n (например, 001 для %{track.3})</p></li><li class="listitem"><p>%T %{tracknumber} Номер дорожки (без нулей в начале, например, 1)</p></li><li class="listitem"><p>%g %{genre} Жанр</p></li><li class="listitem"><p>%{dirname} Имя каталога (например, %{year" "}%{dirname} добавит в начале имени текущего каталога год)</p></li><li class="listitem"><p>%{max-year} Максимальное значение года, найденное для этого каталога, также может использоваться с другими кодами, отличными от «year»</p></li><li class="listitem"><p>%{min-year} Минимальное значение года, найденное для этого каталога</p></li><li class="listitem"><p>%{unq-year} Уникальное значение года, найденное для этого каталога, или пустое значение, если уникальное не найдено</p></li></ul></div><p>Если в формате присутствует разделитель каталогов «/», будет создано несколько каталогов. Если требуется не переименовать текущий каталог, а создать новый, воспользуйтесь раскрывающимся списком <span class="guilabel">Действие</span> и выберите вариант <span class="guilabel">Создать каталог</span> вместо <span class="guilabel">Переименовать каталог</span>. <span class="guilabel">Источник</span> данных тега возможно установить в одно из следующих значений: <span class="guilabel">Тег 1 и тег 2</span>, <span class="guilabel">Тег 1</span> или <span class="guilabel">Тег 2</span>. Предварительный просмотр действия по переименованию первого файла доступен в разделах диалога <span class="guilabel">Из</span> и <span class="guilabel">В</span>. </p><p>Чтобы переименовать сразу несколько каталогов, выделите их. </p></dd><dt><a id="number-tracks"></a><span class="term"><span class="guimenu">Сервис</span> → <span class="guimenuitem">Пронумеровать дорожки...</span></span></dt><dd><p>Если номера дорожек в тегах не указаны или установлены неправильно, эта функция позволит <span class="action">автоматически пронумеровать дорожки по возрастанию</span>. В диалоге возможно указать начальный номер. Если требуется пронумеровать только часть дорожек, сначала их следует выделить. </p><p>Также в тегах будет указано количество дорожек, если установлен флажок <span class="guilabel">Всего дорожек</span>. </p><p>Возможно пронумеровать дорожки в нескольких каталогах. Нужные каталоги следует развернуть и выделить. </p><p>Если установлен флажок <span class="guilabel">Начинать заново в каждой папке</span>, в каждом выделенном каталоге нумерация дорожек будет начата заново с указанного номера. </p><p>Диалог нумерации дорожек также позволяет отформатировать уже присвоенные номера без изменения их значений, если снят флажок <span class="guilabel">Начальный номер</span>. Общее количество дорожек будет добавлено, если установлен соответствующий флажок, который предназначен для установки общего количества для всех выбранных дорожек. Если требуется выполнить только форматирование существующих номеров, этот флажок также необходимо снять. </p></dd><dt><a id="filter"></a><span class="term"><span class="guimenu">Сервис</span> → <span class="guimenuitem">Фильтр...</span></span></dt><dd><p>Фильтр предоставляет возможность отображения только тех файлов, которые соответствуют определённым требованиям. Эта функция полезна при работе с большой коллекцией, она позволяет отредактировать только определённые файлы. В выражении, определяющем, какие файлы будут показаны, используются те же коды формата, что и для формата имени файла, импорта и экспорта. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>%s %{title} Заголовок (композиции)</p></li><li class="listitem"><p>%a %{artist} Исполнитель</p></li><li class="listitem"><p>%l %{album} Альбом</p></li><li class="listitem"><p>%c %{comment} Комментарий</p></li><li class="listitem"><p>%y %{year} Год</p></li><li class="listitem"><p>%t %{track} Номер дорожки (например, 01)</p></li><li class="listitem"><p>%t %{track.n} Номер дорожки с шириной поля n (например, 001 для %{track.3})</p></li><li class="listitem"><p>%T %{tracknumber} Номер дорожки (без нулей в начале, например, 1)</p></li><li class="listitem"><p>%g %{genre} Жанр</p></li><li class="listitem"><p>%f %{file} Имя файла</p></li><li class="listitem"><p>%p %{filepath} Абсолютный путь к файлу</p></li><li class="listitem"><p>%e %{extension} Расширение файла</p></li><li class="listitem"><p>%O %{tag1} Формат тега 1 (ID3v1.1 или пустое значение, если не существует)</p></li><li class="listitem"><p>%o %{tag2} Формат тега 2 (ID3v2.3.0, ID3v2.4.0, ID3v2.2.0, ID3v2.2.1, Vorbis, APE, MP4, ASF, или пустое значение, если не существует)</p></li><li class="listitem"><p>%b %{bitrate} Скорость передачи в кбит/с</p></li><li class="listitem"><p>%v %{vbr} Переменная скорость или пустое значение (только для ID3v2.3 с id3lib)</p></li><li class="listitem"><p>%r %{samplerate} Частота дискретизации в Гц</p></li><li class="listitem"><p>%m %{mode} Режим каналов (cтерео или объединённое стерео)</p></li><li class="listitem"><p>%h %{channels} Количество каналов (1 или 2)</p></li><li class="listitem"><p>%k %{codec} Кодек (например, MPEG 1 Layer 3, MP4, Ogg Vorbis, FLAC, MPC, APE, ASF, AIFF, WAV)</p></li><li class="listitem"><p>%w %{marked} Отмечено, равно 1, если файл содержит отметку (например, из-за усечения или нарушения стандарта), является пустым, если отметок нет</p></li><li class="listitem"><p>%1a %1{artist}, ... Использовать префикс 1, чтобы получить значения тега 1</p></li><li class="listitem"><p>%2a %2{artist}, ... Использовать префикс 2, чтобы получить значения тега 2</p></li></ul></div><p>Эти коды заменяются значениями для файла, и полученные строки можно будет сравнивать со следующими операциями: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>s1 equals s2: выполняется, если s1 равно s2.</p></li><li class="listitem"><p>s1 contains s2: выполняется, если s1 содержит s2, то есть s2 — это подстрока s1.</p></li><li class="listitem"><p>s matches re: выполняется, если s соответствует регулярному выражению re.</p></li></ul></div><p>Выражения, вычисление которых даёт значение true, будут заменены на 1, а те, которые дают false, — на 0. Значение ИСТИНА (true) может быть представлено как 1, true, on и yes, значение ЛОЖЬ — 0, false, off и no. Логические операции not, and, or (в таком порядке приоритета) возможно группировать с помощью скобок. </p><p>Некоторые правила фильтрации уже предустановлены и могут служить примерами для пользовательских выражений: </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">All</span></dt><dd><p>Если к списку файлов был применён фильтр, в заголовке окна будет отображена надпись «[фильтровано]». Этот пункт позволяет снять фильтрацию, и все файлы снова будут отображаться. В соответствующем фильтре используется пустое выражение, но значение «true» для фильтра тоже приведёт к тому же результату. </p></dd><dt><span class="term">Filename Tag Mismatch</span></dt><dd><p><strong class="userinput"><code>not (%{filepath} contains "%{artist} - %{album}/%{track} %{title}") </code></strong></p><p>Проверяет, соответствует ли путь к файлу формату названия этого файла. Это правило автоматически синхронизируется с изменениями в формате названий файлов. </p></dd><dt><span class="term">No Tag 1</span></dt><dd><p><strong class="userinput"><code>%{tag1} equals "" </code></strong></p><p>Отображает только те файлы, которые не содержат тег 1.</p></dd><dt><span class="term">No Tag 2</span></dt><dd><p><strong class="userinput"><code>%{tag2} equals "" </code></strong></p><p>Отображает только те файлы, которые не содержат тег 2.</p></dd><dt><span class="term">ID3v2.3.0 Tag</span></dt><dd><p><strong class="userinput"><code>%{tag2} equals "ID3v2.3.0" </code></strong></p><p>Отображает только те файлы, которые содержат тег ID3v2.3.0.</p></dd><dt><span class="term">ID3v2.4.0 Tag</span></dt><dd><p><strong class="userinput"><code>%{tag2} equals "ID3v2.4.0" </code></strong></p><p>Отображает только те файлы, которые содержат тег ID3v2.4.0.</p></dd><dt><span class="term">Tag 1 != Tag 2</span></dt><dd><p><strong class="userinput"><code>not (%1{title} equals %2{title} and %1{album} equals %2{album} and %1{artist} equals %2{artist} and %1{comment} equals %2{comment} and %1{year} equals %2{year} and %1{track} equals %2{track} and %1{genre} equals %2{genre}) </code></strong></p><p>Отображает файлы с различиями между тегом 1 и тегом 2.</p></dd><dt><span class="term">Tag 1 == Tag 2</span></dt><dd><p><strong class="userinput"><code>%1{title} equals %2{title} and %1{album} equals %2{album} and %1{artist} equals %2{artist} and %1{comment} equals %2{comment} and %1{year} equals %2{year} and %1{track} equals %2{track} and %1{genre} equals %2{genre} </code></strong></p><p>Отображает файлы с одинаковыми тегом 1 и тегом 2.</p></dd><dt><span class="term">Incomplete</span></dt><dd><p><strong class="userinput"><code>%{title} equals "" or %{artist} equals "" or %{album} equals "" or %{year} equals "" or %{tracknumber} equals "" or %{genre} equals "" </code></strong></p><p>Отображает файлы с пустыми значениями в стандартных тегах (заголовок, исполнитель, альбом, дата, номер дорожки, жанр).</p></dd><dt><span class="term">No Picture</span></dt><dd><p><strong class="userinput"><code>%{picture} equals "" </code></strong></p><p>Отображает только те файлы, которые не содержат обложку.</p></dd><dt><span class="term">Marked</span></dt><dd><p><strong class="userinput"><code>not (%{marked} equals "") </code></strong></p><p>Отображает только те файлы, которые отмечены, потому что они не соответствуют стандарту ID3, усечены или содержат слишком большое изображение обложки альбома.</p></dd><dt><span class="term">Custom Filter</span></dt><dd><p>Выберите этот пункт, чтобы добавить собственный фильтр. Например, если требуется создать фильтр для исполнителей, названия которых начинаются со слова «The», замените текст «Custom Filter» на название «The-группы» и нажмите клавишу <span class="keycap"><strong>Enter</strong></span>. Вставьте следующее выражение в строку редактирования: </p><p><strong class="userinput"><code>%{artist} matches "The.*" </code></strong></p><p>Затем нажмите кнопку <span class="guibutton">Сохранить параметры</span>. Чтобы применить фильтр к файлам, нажмите кнопку <span class="guibutton">Применить</span>. Все обработанные файлы отображаются в текстовом виде со знаком «+» для тех файлов, которые соответствуют фильтру, и «-» для остальных. По окончании отображаются только файлы с исполнителем, название которого начинается с «The», а в заголовке окна появляется надпись «[фильтровано]». </p></dd></dl></div></dd><dt><a id="convert-to-id3v24"></a><span class="term"><span class="guimenu">Сервис</span> → <span class="guimenuitem">Преобразовать ID3v2.3 в ID3v2.4</span></span></dt><dd><p>Если в выделенных файлах содержатся теги ID3v2.3, они будут <span class="action">преобразованы в теги ID3v2.4</span>. Фреймы, которые не поддерживаются библиотекой TagLib, не будут учитываться. Преобразовываются только файлы без несохранённых изменений. </p></dd><dt><a id="convert-to-id3v23"></a><span class="term"><span class="guimenu">Сервис</span> → <span class="guimenuitem">Преобразовать ID3v2.4 в ID3v2.3</span></span></dt><dd><p>Если в выделенных файлах содержатся теги ID3v2.4, они будут <span class="action">преобразованы в теги ID3v2.3</span>. Преобразовываются только файлы без несохранённых изменений. </p></dd><dt><a id="play"></a><span class="term"><span class="guimenu">Сервис</span> → <span class="guimenuitem">Воспроизведение</span></span></dt><dd><p>Открывает простую панель инструментов для воспроизведения аудиофайлов. Панель содержит кнопки для стандартных действий (<span class="guibutton">Воспроизвести или приостановить</span>, <span class="guibutton">Остановить воспроизведение</span>, <span class="guibutton">Предыдущая дорожка</span>, <span class="guibutton">Следующая дорожка</span>, <span class="guibutton">Закрыть</span>), ползунки для регулирования позиции и громкости, а также индикатор текущей позиции. Если выбрано несколько файлов, будут воспроизводиться выбранные дорожки. Если же ничего не выбрано, будут воспроизводиться все файлы. </p></dd></dl></div><p>
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="settings-menu"></a>Меню «Настройка»</h2></div></div></div><p>
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guimenu">Настройка</span> → <span class="guimenuitem">Показать панель инструментов</span></span></dt><dd><p><span class="action">Переключает отображение панели инструментов.</span></p></dd><dt><span class="term"><span class="guimenu">Настройка</span> → <span class="guimenuitem">Показать строку состояния</span></span></dt><dd><p><span class="action">Переключает отображение строки состояния</span>, в которой показаны более длительные действия, такие как открытие или сохранение каталога.</p></dd><dt><span class="term"><span class="guimenu">Настройка</span> → <span class="guimenuitem">Показывать изображение</span></span></dt><dd><p><span class="action">Переключает отображение обложки.</span>
</p></dd><dt><span class="term"><span class="guimenu">Настройка</span> → <span class="guimenuitem">Автоматически скрывать теги</span></span></dt><dd><p>Если флажок установлен, пустые теги будут скрыты автоматически. Кнопки <span class="guibutton">-</span>/<span class="guibutton">+</span> позволяют вручную свернуть или развернуть разделы <span class="guilabel">Файл</span>, <span class="guilabel">Тег 1</span> и <span class="guilabel">Тег 2</span>. </p></dd><dt><a id="configure-shortcuts"></a><span class="term"><span class="guimenu">Настройка</span> → <span class="guimenuitem">Комбинации клавиш...</span></span></dt><dd><p>Открывает диалог настройки комбинаций клавиш для большинства функциональных возможностей программы. Доступны даже функции без соответствующего пункта меню или кнопки, например, переход к следующему файлу, предыдущему файлу, выбор всех файлов. </p></dd><dt><a id="configure-kid3"></a><span class="term"><span class="guimenu">Настройка</span> → <span class="guimenuitem">Настроить <span class="application">Kid3</span>...</span></span></dt><dd><p>Открывает <span class="action">диалог настройки параметров приложения</span>, который содержит разделы для настройки тегов, файлов, команд пользователя и параметров сети. </p><p>Параметры тегов доступны в разделе <span class="guilabel">Теги</span>, который разделён на четыре вкладки: <span class="guilabel">Тег 1</span>, <span class="guilabel">Тег 2</span>, <span class="guilabel">Тег 3</span> и <span class="guilabel">Все теги</span>. </p><p>Если установлен флажок <span class="guilabel">Отмечать усечённые поля</span>, усечённые поля ID3v1.1 будут отмечены красным цветом. Текстовые поля тегов ID3v1.1 могут иметь не более 30 символов, а комментарии — не более 28. Также ограничено количество символов в полях жанра и нумерации дорожек, поэтому поля могут быть усечены при импорте или преобразовании из ID3v2. Усечённые поля и сам файл будут отмечены красным цветом. После редактирования поля такое выделение цветом будет снято. </p><p>Параметр <span class="guilabel">Кодировка текста</span> для тегов <span class="guilabel">ID3v1</span> позволяет установить набор символов, используемый в тегах ID3v1. Стандартной кодировкой является ISO-8859-1, поэтому рекомендуется не менять это значение. Однако существуют теги с другой кодировкой; такую кодировку возможно указать с помощью этого параметра, чтобы затем скопировать теги ID3v1 в ID3v2, где предусмотрена поддержка Unicode. </p><p>Флажок <span class="guilabel">Использовать формат «номер дорожки / всего дорожек»</span> определяет, будет ли поле номера дорожки тегов ID3v2 содержать просто номер дорожки или также и общее количество дорожек в каталоге. </p><p>Если установлен флажок <span class="guilabel">Жанр как текст (вместо числовой строки)</span>, все жанры в тегах ID3v2 будут сохранены в виде текстовой строки, даже если существует соответствующий код для жанров в тегах ID3v1. Если этот флажок снят, жанры, для которых существует код в тегах ID3v1, будут сохранены в формате числа — кода жанра (в скобках для тега ID3v2.3). Таким образом, жанр Metal будет сохранён как «Metal» или «(9)» в зависимости от значения этого параметра. Жанры, которых нет в списке жанров в тегах ID3v1, всегда сохраняются в виде текстовой строки. Цель этой опции — улучшить совместимость с устройствами, которые неправильно интерпретируют коды жанров. </p><p>Если установлен флажок <span class="guilabel">Файлы WAV с блоком id3 в нижнем регистре</span>, блок RIFF, используемый для хранения тегов ID3v2 в файлах WAV, будет называться «id3» вместо «ID3». По умолчанию <span class="application">Kid3</span> и другие приложения, использующие TagLib, принимают как строчные, так и прописные варианты при чтении файлов WAV, но при записи тегов ID3v2 в файлы WAV они используют вариант «ID3». Поскольку существуют другие приложения, которые принимают только вариант «id3» (например, JRiver Media Center и foobar2000), эта опция позволяет создавать теги, которые могут быть прочитаны такими приложениями. </p><p>Если установлен флажок <span class="guilabel">Отмечать нарушения стандарта</span>, поля тегов ID3v2, нарушающие стандарт, будут отмечены красным. Подробная информация о нарушении отображается во всплывающей подсказке: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Должно быть уникальным</p></li><li class="listitem"><p>Перевод строки запрещён</p></li><li class="listitem"><p>Возврат каретки запрещён</p></li><li class="listitem"><p>Необходимо ввести сведения о владельце</p></li><li class="listitem"><p>Должно быть в числовом формате</p></li><li class="listitem"><p>Должно быть в числовом формате или формате «номер / общее количество»</p></li><li class="listitem"><p>Формат — ДДММ</p></li><li class="listitem"><p>Формат — ЧЧММ</p></li><li class="listitem"><p>Формат — ГГГГ</p></li><li class="listitem"><p>Должно начинаться с года и пробела</p></li><li class="listitem"><p>Формат даты и времени должен соответствовать стандарту ISO 8601</p></li><li class="listitem"><p>Должно быть музыкальным ключом, 3 символа, A-G, b, #, m, o,</p></li><li class="listitem"><p>Код языка должен соответствовать стандарту ISO 639-2, 3 символа в нижнем регистре</p></li><li class="listitem"><p>Должно быть кодом ISRC, 12 символов</p></li><li class="listitem"><p>Должно быть списком строк, разделённых «|»</p></li><li class="listitem"><p>Имеется лишний пробел</p></li></ul></div><p>Документы по стандартам ID3, доступные в сети: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="ulink" href="http://id3.org/id3v2.3.0" target="_top">тег ID3 версии 2.3.0</a></p></li><li class="listitem"><p><a class="ulink" href="http://id3.org/id3v2.4.0-structure" target="_top">Тег ID3 версии 2.4.0 — основная структура</a></p></li><li class="listitem"><p><a class="ulink" href="http://id3.org/id3v2.4.0-frames" target="_top">Тег ID3 версии 2.4.0 — нативные фреймы</a></p></li></ul></div><p><span class="guilabel">Кодировка текста</span> определяет кодировку по умолчанию для фреймов ID3v2: <span class="guilabel">ISO-8859-1</span>, <span class="guilabel">UTF16</span> или <span class="guilabel">UTF8</span>. <span class="guilabel">UTF8</span> не поддерживается фреймами ID3v2.3.0; если указана эта кодировка, вместо неё будет использоваться кодировка <span class="guilabel">UTF16</span>. Для фреймов ID3v2.4.0 возможно использовать все три типа кодировки. </p><p><span class="guilabel">Версия, используемая для новых тегов</span> позволяет указать, в какой версии должны создаваться новые теги ID3v2: 2.3.0 или 2.4.0. </p><p><span class="guilabel">Количество цифр в номере дорожки</span> — это количество цифр в полях «Номер дорожки». Для заполнения используются нули в начале. Например, при значении 2 номер дорожки 5 устанавливается как «05». </p><p>Раскрывающийся список <span class="guilabel">Имя поля комментария</span> предназначен только для файлов Ogg/Vorbis и FLAC и задаёт имя поля, используемого для комментариев. Разные приложения используют разные названия, например, «<code class="literal">COMMENT</code>» используется приложением <span class="application">XMMS</span>, а <span class="application">Amarok</span> использует название «<code class="literal">DESCRIPTION</code>». </p><p>Формат изображений в файлах Ogg/Vorbis указывается в раскрывающемся списке <span class="guilabel">Имя поля изображения</span>, значениями которого могут быть «<code class="literal">METADATA_BLOCK_PICTURE</code>» или «<code class="literal">COVERART</code>». Первое значение — это официальный стандарт, использующий тот же формат, что и изображения в тегах FLAC. «<code class="literal">COVERART</code>» — это более ранний неофициальный способ включения изображений в комментарии Vorbis. Он позволяет обеспечивать совместимость с устаревшими проигрывателями. </p><p>Если установлен флажок <span class="guilabel">Отмечать, если размер больше, чем (в байтах)</span>, файлы, содержащие встроенную обложку, размер которых превышает указанное значение в байтах, будут отмечены красным. Эта функция позволяет найти файлы, содержащие слишком большие изображения, которые могут не поддерживаться некоторыми приложениями или проигрывателями. Значение по умолчанию — 131072 байта (128 КБ). </p><p>Раздел <span class="guilabel">Пользовательские жанры</span> позволяет указывать жанры, отсутствующие в стандартном списке жанров, например, «Gothic Metal». Такие пользовательские жанры появятся в раскрывающемся списке <span class="guilabel">Жанр</span> в разделе <span class="guilabel">Тег 2</span>. В тегах ID3v1.1 возможно указывать только предустановленные жанры. </p><p>Список пользовательских жанров также возможно использовать для сокращения количества вариантов в раскрывающемся списке <span class="guilabel">Жанр</span> до тех, которые используются чаще всего. Например, если коллекция в основном содержит музыку в жанрах «Metal», «Gothic Metal», «Ancient» и «Hard Rock», внесите жанры в этот список и установите флажок <span class="guilabel">Показывать только пользовательские жанры</span>. Тогда раскрывающийся список <span class="guilabel">Жанр</span> в разделе <span class="guilabel">Тег 2</span> будет содержать только эти четыре жанра, и искать их в полном списке не понадобится. В таком примере в списке жанров тега 1 будут отображаться только «Metal» и «Hard Rock», потому что эти два пользовательских жанра являются стандартными жанрами. Если флажок <span class="guilabel">Показывать только пользовательские жанры</span> не установлен, пользовательские жанры будут расположены в конце списка жанров. </p><p>Раздел <span class="guilabel">Фреймы быстрого доступа</span> позволяет указать, какие типы фреймов следует всегда отображать в разделе <a class="link" href="#tag2" title="Тег 2">Тег 2</a>. Такие фреймы затем можно будет добавить без предварительного использования кнопки <span class="guibutton">Добавить</span>. Чтобы изменить порядок фреймов быстрого доступа, воспользуйтесь функцией перетаскивания </p><p>Значение в раскрывающемся списке <span class="guilabel">Имя поля номера дорожки</span> используется только для данных RIFF INFO. С его помощью возможно указать название поля, используемого для номеров дорожек. Название поля номера дорожки не определено в исходном стандарте RIFF. В некоторых программах используется «<code class="literal">ITRK</code>», в других — «<code class="literal">IPRT</code>». </p><p>Раздел <span class="guilabel">Формат тега</span> содержит параметры для форматирования тегов. Если установлен флажок <span class="guilabel">Автоматически применять формат</span>, заданные параметры форматирования будут автоматически применяться при правке текста в строках редактирования. Флажок <span class="guilabel">Проверка</span> включает или отключает средства проверки значений номера дорожки по общему количеству дорожек и значений даты и времени. Раскрывающийся список <span class="guilabel">Преобразование регистра</span> позволяет выбрать один из вариантов изменения регистра: <span class="guilabel">Нет изменений</span>, <span class="guilabel">Все строчные</span>, <span class="guilabel">Все прописные</span>, <span class="guilabel">Первая буква — прописная</span> или <span class="guilabel">Все первые буквы — прописные</span>. Чтобы использовать локаль для преобразования букв между верхним и нижним регистром, воспользуйтесь расположенным ниже раскрывающимся списком. Список заменителей позволяет настроить произвольное преобразование строк. Чтобы добавить новое сопоставление, выделите ячейку в столбце <span class="guilabel">Из</span>, вставьте в неё текст, который следует заменить, затем перейдите к соответствующей ячейке в столбце <span class="guilabel">В</span> и вставьте в неё замещающий текст. Если текст, который следует заменить, начинается и заканчивается символом косой черты «/», предполагается, что использовано регулярное выражение. Для регулярных выражений, содержащих группы захвата в круглых скобках, соответствующие им заменители \1, \2, ... в ячейке столбца <span class="guilabel">В</span> заменяются строкой, захваченной соответствующей группой захвата. Чтобы удалить соответствие, укажите в поле <span class="guilabel">Из</span> пустое значение (например, нажав клавишу пробела, а затем клавишу Backspace). Добавить или удалить строки также возможно с помощью контекстного меню, которое вызывается щелчком правой кнопки мыши. Замена выполняется только в том случае, если установлен флажок <span class="guilabel">Замена строк</span>. </p><p>Таблица в разделе <span class="guilabel">Рейтинг</span> содержит сопоставления рейтинга (в звёздах) с текущими значениями, хранящимися в теге. Фреймы с данными рейтинга содержатся в строке «Рейтинг» <a class="link" href="#table-frame-list" title="Таблица 3.1. Привязки унифицированных названий фреймов в различных форматах">списка фреймов</a>. Для этих фреймов рейтинг устанавливается путём присвоения определённого количества звёзд из пяти звёзд. В разных форматах тегов и разных приложениях используются разные значения для привязки этой оценки в звёздах к значению, хранящемуся в теге. Чтобы отображать количество присвоенных звёзд корректно, программа <span class="application">Kid3</span> обращается к этой таблице. Ключом для поиска соответствующей информации является название фрейма, например, в комментариях Vorbis это будет «RATING», а в RIFF INFO — «IRTD». Для тегов ID3v2 используется комбинированный ключ, содержащий идентификатор «POPM» фрейма Popularimeter и поле «Email», отделённое точкой. Таким образом, для тегов ID3v2 существуют разные ключи, например, «POPM.Windows Media Player 9 Series» для привязки, используемой приложениями Windows Media Player и Explorer, и просто «POPM» для фреймов POPM с пустым полем «Email». Так как для «POPM» может существовать несколько записей, их порядок важен. Когда <span class="application">Kid3</span> добавляет новый фрейм Popularimeter, для определения значения, которое будет записано в поле «Email», используется первая запись «POPM». Это значение затем укажет привязку, которая будет использоваться для оценки в звёздах. Первая запись также используется как запись по умолчанию в случаях, когда ключ не был найден. </p><p>Помимо столбца <span class="guilabel">Имя</span>, содержащего ключи, в таблице представлены столбцы от <span class="guilabel">1</span> до <span class="guilabel">5</span> для значений параметров, которые будут записаны в тег, если дорожке будет назначена соответствующая оценка в звёздах. И наоборот, эти значения определяют количество звёзд, которые будут отображаться для значения, хранящегося во фрейме. Например, строка таблицы ниже содержит значения 1, 64, 128, 196, 255. Пороговые значения количества звёзд, которые будут показаны для оценок, лежащих между этими значениями, совместимы с используемыми в  <span class="trademark">Windows</span>® Explorer. </p><div class="table"><a id="table-rating"></a><p class="title"><strong>Таблица 3.2. Запись в таблице оценок</strong></p><div class="table-contents"><table class="table" summary="Запись в таблице оценок" border="1"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><thead><tr><th>Имя</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead><tbody><tr><td>POPM</td><td>1</td><td>64</td><td>128</td><td>196</td><td>255</td></tr><tr><td>Диапазон</td><td>1-31</td><td>32-95</td><td>96-159</td><td>160-223</td><td>224-255</td></tr></tbody></table></div></div><br class="table-break" /><p>Флажок <span class="guilabel">Загружать при запуске файлы, открытые при последнем выходе</span>, расположенный на вкладке <span class="guilabel">Файлы</span>, позволяет <span class="application">Kid3</span> при следующем запуске открывать файл, который был открыт при последнем выходе. Флажок <span class="guilabel">Сохранять метки времени изменения файлов</span> позволяет сохранять метку времени изменения файла. Поле ввода <span class="guilabel">Имя файла обложки</span> предназначено для указания имени, которое будет предложено при экспорте встроенного изображения в файл. Раскрывающийся список <span class="guilabel">Кодировка текста (экспорт, список воспроизведения)</span> позволяет указать кодировку, используемую при записи файлов. Стандартный вариант <span class="guilabel">System</span> возможно изменить, например, если списки воспроизведения будут использоваться на другом устройстве. </p><p>Если установлен флажок <span class="guilabel">Отмечать изменения</span>, изменённые поля будут отмечены светло-серым фоном. </p><p>Раздел <span class="guilabel">Список файлов</span> позволяет указать, какие файлы следует отображать в списке файлов. С помощью раскрывающегося списка <span class="guilabel">Фильтр</span> возможно задать отображение в списке только тех файлов, которые имеют поддерживаемые расширения. Чтобы явным образом указать, какие каталоги следует отображать или исключить в списке файлов, воспользуйтесь полями ввода <span class="guilabel">Включить папки</span> и <span class="guilabel">Исключить папки</span>. Эти поля могут содержать выражения с подстановочными знаками, например, <code class="filename">*/Музыка/*</code> для включения только каталога <code class="filename">Музыка</code> или <code class="filename">*/iTunes/*</code> для исключения каталога iTunes из списка файлов. Если необходимо использовать несколько таких выражений, их следует разделить пробелами или точками с запятой. </p><p>Кнопки <span class="guibutton">Имя файла из тега...</span> и <span class="guibutton">Тег из имени файла...</span> в разделе <span class="guilabel">Формат</span> открывают диалоги для редактирования форматов, доступных в раскрывающихся списках <span class="guilabel">Формат</span> (со стрелками вверх и вниз), которые расположены в разделе <a class="link" href="#file" title="Файл">«Файл»</a> главного окна. </p><p><span class="guilabel">Формат имени файла</span> содержит параметры формата имён файлов. Доступны те же параметры, что и в разделе <span class="guilabel">Формат тега</span>. </p><p>Вкладка <span class="guilabel">Команды пользователя</span> содержит таблицу со списком команд, доступных в контекстном меню списка файлов. Для важных действий наподобие удаления файлов рекомендуется установить флажок <span class="guilabel">Подтвердить</span>, чтобы перед выполнением команды появлялось всплывающее окно для подтверждения действия. Флажок <span class="guilabel">Вывод</span> позволяет отображать для просмотра вывод консольных команд (стандартный вывод и стандартные ошибки). В столбце <span class="guilabel">Имя</span> указано имя для отображения в контекстном меню. Столбец <span class="guilabel">Команда</span> содержит команду для выполнения. Для передачи аргументов доступны следующие коды: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>%F %{files} Пути файлов (в виде списка, если было выбрано несколько файлов)</p></li><li class="listitem"><p>%f %{file} Путь к отдельному файлу</p></li><li class="listitem"><p>%uF %{urls} <acronym class="acronym">URL</acronym>-адреса (в виде списка, если было выбрано несколько файлов)</p></li><li class="listitem"><p>%uf %{url} <acronym class="acronym">URL</acronym>-адрес отдельного файла</p></li><li class="listitem"><p>%d %{directory} Каталог</p></li><li class="listitem"><p>%s %{title} Заголовок (композиции)</p></li><li class="listitem"><p>%a %{artist} Исполнитель</p></li><li class="listitem"><p>%l %{album} Альбом</p></li><li class="listitem"><p>%c %{comment} Комментарий</p></li><li class="listitem"><p>%y %{year} Год</p></li><li class="listitem"><p>%t %{track} Номер дорожки (например, 01)</p></li><li class="listitem"><p>%t %{track.n} Номер дорожки с шириной поля n (например, 001 для %{track.3})</p></li><li class="listitem"><p>%T %{tracknumber} Номер дорожки (без нулей в начале, например, 1)</p></li><li class="listitem"><p>%g %{genre} Жанр</p></li><li class="listitem"><p>%b %{browser} Команда для запуска веб-браузера</p></li><li class="listitem"><p>%q %{qmlpath} Базовый каталог предоставленных файлов QML</p></li></ul></div><p>Cпециальный код, <span class="command"><strong>@separator</strong></span>, возможно использовать в качестве команды, добавляющей разделитель в контекстное меню команд пользователя. Чтобы добавить пункты меню как вложенное меню, перед ними следует указать команду <span class="command"><strong>@beginmenu</strong></span>, а после них — команду <span class="command"><strong>@endmenu</strong></span>. Название меню будет определяться столбцом <span class="guilabel">Имя</span> команды <span class="command"><strong>@beginmenu</strong></span>. </p><p><a id="configure-user-actions-qml"></a>Чтобы выполнить сценарии QML, используйте <span class="command"><strong>@qml</strong></span> в качестве названия команды. Путь к сценарию QML передаётся в качестве параметра. Соответствующие сценарии расположены в каталоге <code class="filename">%{qmlpath}/script/</code> (в <span class="trademark">Linux</span>® это обычно путь <code class="filename">/usr/share/kid3/qml/script/</code>, в Windows — <code class="filename">qml/script/</code> внутри папки установки, в <span class="trademark">macOS</span>® — в каталоге приложения <code class="filename">kid3.app/Contents/Resources/qml/script/</code>). Пользовательские сценарии возможно хранить в любом каталоге. Если в коде QML задействованы компоненты графического интерфейса, вместо <span class="command"><strong>@qml</strong></span> следует использовать <span class="command"><strong>@qmlview</strong></span>. Дополнительные параметры передаются в сценарий QML, где они будут доступны с помощью функции <code class="function">getArguments()</code>. Обзор некоторых функций и свойств, доступных в QML, доступен в приложении  <a class="link" href="#qml-interface" title="Приложение C. Интерфейс QML">Интерфейс QML</a>. </p><p>Команда, которая будет вставлена вместо %{browser}, указывается в строке <span class="guilabel">Веб-браузер</span>. Команды, которые начинаются с символов %{browser}, используются для получения информации об аудиофайлах из Интернета. Например, команда </p><pre class="screen" width="40">
<strong class="userinput"><code>%{browser} http://lyricwiki.org/%u{artist}:%u{title}</code></strong>
</pre><p> проведёт поиск текста текущей песни на сайте <a class="ulink" href="http://www.lyricwiki.org" target="_top">LyricWiki</a>. Символ «u» в %u{artist} и %u{title} означает, что это закодированная в формате <acronym class="acronym">URL</acronym> информация об исполнителе %{artist} и песне %{title}. Таким же образом возможно указывать собственные запросы; например, поиск изображений в <a class="ulink" href="http://www.google.com" target="_top">Google</a> будет выглядеть следующим образом: </p><pre class="screen" width="40"><strong class="userinput"><code>%{browser} http://images.google.com/images?q=%u{artist}%20%u{album}</code></strong>
</pre><p>
</p><p>Чтобы добавить обложку альбома в тег 2, возможно выполнить поиск изображений с помощью Google или Amazon, используя приведённые выше команды. Для добавления изображения в тег воспользуйтесь функцией перетаскивания или кнопкой <span class="guibutton">Добавить</span>; после нажатия этой кнопки следует выбрать фрейм изображения и импортировать файл изображения или вставить его из буфера обмена. Фреймы изображений поддерживаются для тегов ID3v2, MP4, FLAC, Ogg и ASF. </p><p>Чтобы добавить или удалить записи в таблице, воспользуйтесь контекстном меню. </p><p>На вкладке <span class="guilabel">Сеть</span> доступно только поле для вставки адреса прокси-сервера и (необязательно) порта, разделённых двоеточием. Прокси-сервер будет использоваться при импорте с интернет-сервера, если установлен соответствующий флажок. </p><p>Вкладка <span class="guilabel">Модули</span> позволяет подключить или отключить модули. Вкладка содержит два раздела. Первый, список <span class="guilabel">Модули для работы с метаданными и приоритет</span>, содержит модули, поддерживающие форматы аудиофайлов. В этом разделе важен порядок модулей, потому что приложение использует их по списку с первой позиции до последней. Некоторые форматы поддерживаются несколькими модулями, поэтому файлы будут открыты первым модулем из списка, поддерживающим их. Модуль <span class="guilabel">TaglibMetadata</span> поддерживает большинство форматов; если этот модуль будет расположен в верхней части списка, с его помощью будет возможно открыть большое количество файлов. Если требуется использовать другой модуль, расположите его над модулем <span class="guilabel">TaglibMetadata</span>. Подробные сведения о модулях для работы с метаданными и информация о том, почему рекомендуется использовать тот или иной модуль вместо TagLib, приведены далее. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="guilabel">Id3libMetadata</span>: использует библиотеку <a class="ulink" href="http://id3lib.sourceforge.net" target="_top">id3lib</a> для тегов ID3v1.1 и ID3v2.3 в файлах MP3, MP2, AAC. Поддерживает чуть больше типов фреймов, чем TagLib.</p></li><li class="listitem"><p><span class="guilabel">OggFlacMetadata</span>: использует <a class="ulink" href="http://xiph.org/ogg/" target="_top">libogg</a>, <a class="ulink" href="http://xiph.org/vorbis/" target="_top">libvorbis, libvorbisfile</a> для файлов Ogg и дополнительно <a class="ulink" href="http://flac.sourceforge.net" target="_top">libFLAC++ и libFLAC</a> для файлов FLAC. Это официальные библиотеки для этих форматов.</p></li><li class="listitem"><p><span class="guilabel">TaglibMetadata</span>: использует библиотеку <a class="ulink" href="http://taglib.github.io/" target="_top">TagLib</a>, которая поддерживает большое количество форматов аудио. Может быть использован для всех файлов, поддерживаемых <span class="application">Kid3</span>.</p></li><li class="listitem"><p><span class="guilabel">Mp4v2Metadata</span>: библиотека <a class="ulink" href="http://code.google.com/p/mp4v2" target="_top">mp4v2</a> изначально использовалась в <span class="application">Kid3</span> для поддержки файлов M4A. Может быть использован, если возникают проблемы с поддержкойформата M4A модулем TagLib. </p></li></ul></div><p>Раздел <span class="guilabel">Доступные модули</span> отображает список остальных модулей. Их порядок в списке не важен. Эти модули подключаются и отключаются с помощью флажков. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="guilabel">AmazonImport</span>: используется для функции <span class="guimenuitem">Импорт из Amazon...</span>. </p></li><li class="listitem"><p><span class="guilabel">DiscogsImport</span>: используется для функции <span class="guimenuitem">Импорт из Discogs...</span>. </p></li><li class="listitem"><p><span class="guilabel">FreedbImport</span>: используется для функции <span class="guimenuitem">Импорт из gnudb.org...</span>. </p></li><li class="listitem"><p><span class="guilabel">MusicBrainzImport</span>: используется для функции <span class="guimenuitem">Импорт из MusicBrainz (релиз)...</span>. </p></li><li class="listitem"><p><span class="guilabel">AcoustidImport</span>: используется для функции <span class="guimenuitem">Импорт из MusicBrainz (отпечаток)...</span>, работа которой зависит от библиотек <a class="ulink" href="http://acoustid.org/chromaprint" target="_top">Chromaprint</a> и <a class="ulink" href="http://libav.org/" target="_top">libav</a>. </p></li></ul></div><p>Отключённые модули не будут загружены. Это позволяет оптимизировать потребление ресурсов и время запуска. Изменённые параметры этой вкладки вступят в силу только после перезапуска <span class="application">Kid3</span>. </p></dd></dl></div><p>
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="help-menu"></a>Меню «Справка»</h2></div></div></div><p>
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guimenu">Справка</span> → <span class="guimenuitem">Руководство пользователя <span class="application">Kid3</span></span></span></dt><dd><p><span class="action">Открывает данное руководство пользователя.</span></p></dd><dt><span class="term"><span class="guimenu">Справка</span> → <span class="guimenuitem">О программе <span class="application">Kid3</span></span></span></dt><dd><p><span class="action">Отображает краткую информацию о <span class="application">Kid3</span>. </span></p></dd></dl></div><p>
</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="kid3-cli"></a>Глава 4. kid3-cli</h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="sect1"><a href="#kid3-cli-commands">Команды</a></span></dt><dd><dl><dt><span class="sect2"><a href="#cli-help">Справка</a></span></dt><dt><span class="sect2"><a href="#cli-timeout">Время ожидания</a></span></dt><dt><span class="sect2"><a href="#cli-exit">Выйти из приложения</a></span></dt><dt><span class="sect2"><a href="#cli-cd">Сменить каталог</a></span></dt><dt><span class="sect2"><a href="#cli-pwd">Показать полное имя текущего каталога</a></span></dt><dt><span class="sect2"><a href="#cli-ls">Список каталогов</a></span></dt><dt><span class="sect2"><a href="#cli-save">Сохранить изменённые файлы</a></span></dt><dt><span class="sect2"><a href="#cli-select">Выбрать файл</a></span></dt><dt><span class="sect2"><a href="#cli-tag">Выбрать тег</a></span></dt><dt><span class="sect2"><a href="#cli-get">Получить фрейм тега</a></span></dt><dt><span class="sect2"><a href="#cli-set">Указать фрейм тега</a></span></dt><dt><span class="sect2"><a href="#cli-revert">Отменить изменения</a></span></dt><dt><span class="sect2"><a href="#cli-import">Импортировать из файла</a></span></dt><dt><span class="sect2"><a href="#cli-autoimport">Автоматический импорт</a></span></dt><dt><span class="sect2"><a href="#cli-albumart">Загрузить обложку</a></span></dt><dt><span class="sect2"><a href="#cli-export">Экспортировать в файл</a></span></dt><dt><span class="sect2"><a href="#cli-playlist">Создать список воспроизведения</a></span></dt><dt><span class="sect2"><a href="#cli-filenameformat">Применить формат имени файла</a></span></dt><dt><span class="sect2"><a href="#cli-tagformat">Применить формат тега</a></span></dt><dt><span class="sect2"><a href="#cli-textencoding">Применить кодировку текста</a></span></dt><dt><span class="sect2"><a href="#cli-renamedir">Переименовать каталог</a></span></dt><dt><span class="sect2"><a href="#cli-numbertracks">Пронумеровать дорожки</a></span></dt><dt><span class="sect2"><a href="#cli-filter">Фильтр</a></span></dt><dt><span class="sect2"><a href="#cli-to24">Преобразовать ID3v2.3 в ID3v2.4</a></span></dt><dt><span class="sect2"><a href="#cli-to23">Преобразовать ID3v2.4 в ID3v2.3</a></span></dt><dt><span class="sect2"><a href="#cli-fromtag">Имя файла из тега</a></span></dt><dt><span class="sect2"><a href="#cli-totag">Тег из имени файла</a></span></dt><dt><span class="sect2"><a href="#cli-syncto">Тег в другой тег</a></span></dt><dt><span class="sect2"><a href="#cli-copy">Копировать</a></span></dt><dt><span class="sect2"><a href="#cli-paste">Вставить</a></span></dt><dt><span class="sect2"><a href="#cli-remove">Убрать</a></span></dt><dt><span class="sect2"><a href="#cli-config">Настроить Kid3</a></span></dt></dl></dd><dt><span class="sect1"><a href="#kid3-cli-examples">Примеры</a></span></dt><dt><span class="sect1"><a href="#kid3-cli-json">Формат <acronym class="acronym">JSON</acronym></a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="kid3-cli-commands"></a>Команды</h2></div></div></div><p><span class="command"><strong>kid3-cli</strong></span> предоставляет интерфейс командной строки к <span class="application">Kid3</span>. Если в качестве аргумента будет указан путь к каталогу, будет открыт соответствующий каталог. Если будет указан один или несколько путей к файлам, будет открыт общий каталог, а файлы будут выделены. Последующие команды будут применены к этим файлам. Команды возможно указывать с помощью параметра <code class="option">-c</code>. Если передано несколько команд, они будут выполнены в указанном порядке. Если команды вносят изменения в файлы, эти изменения будут сохранены при выходе из приложения. Если команды не будут переданы, интерфейс <span class="command"><strong>kid3-cli</strong></span> будет запущен в интерактивном режиме. Можно будет вводить команды и работать с текущими выделенными файлами. В следующих разделах приведён список доступных команд. </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-help"></a>Справка</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">help</code>  [<em class="replaceable"><code>НАЗВАНИЕ-КОМАНДЫ</code></em>]</p></div><p>Отображает справку о параметрах <em class="replaceable"><code>НАЗВАНИЕ-КОМАНДЫ</code></em> или обо всех командах, если конкретная команда не указана. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-timeout"></a>Время ожидания</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">timeout</code>  [ default  |   off  |   <em class="replaceable"><code>ВРЕМЯ</code></em> ]</p></div><p>Позволяет перезаписать стандартное значение времени ожидания выполнения команды. Выполнение команд командного интерфейса будет прервано, если будет превышено указанное время ожидания. Стандартное время ожидания для команд <span class="command"><strong>ls</strong></span> и <span class="command"><strong>albumart</strong></span> — 10 секунд, для команд <span class="command"><strong>autoimport</strong></span> и <span class="command"><strong>filter</strong></span> — 60 секунд, а для остальных команд — 3 секунды. Если требуется обработать большое количество файлов, эти временные рамки могут оказаться слишком жёсткими, поэтому предусмотрена возможность установить время ожидания для всех команд в значение <em class="replaceable"><code>ВРЕМЯ</code></em> (в миллисекундах), отключить время ожидания вообще или оставить стандартные значения. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-exit"></a>Выйти из приложения</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">exit</code>  [force]</p></div><p>Выйти из приложения. Если в приложении изменённые несохранённые файлы, требуется параметр <em class="parameter"><code>force</code></em>. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-cd"></a>Сменить каталог</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">cd</code>  [<em class="replaceable"><code>КАТАЛОГ</code></em>]</p></div><p>Если не указано значение <em class="replaceable"><code>КАТАЛОГ</code></em>, будет осуществлён переход в домашний каталог. Если значение указано, будет выполнен переход в указанный каталог. Если указан один или несколько путей к файлам, будет осуществлён переход в общий каталог, в котором хранятся эти файлы, а файлы будут выделены. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-pwd"></a>Показать полное имя текущего каталога</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">pwd</code> </p></div><p>Показать полное имя текущего рабочего каталога.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-ls"></a>Список каталогов</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">ls</code> </p></div><p>Список содержимого текущего каталога. Соответствует списку файлов в пользовательском интерфейсе <span class="application">Kid3</span>. Пять символов перед именами файлов показывают состояние файла. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="computeroutput">&gt;</code> Файл выбран. </p></li><li class="listitem"><p><code class="computeroutput">*</code> Файл изменён. </p></li><li class="listitem"><p><code class="computeroutput">1</code> Файлу присвоен тег 1, в противном случае отобразится «<code class="computeroutput">-</code>».</p></li><li class="listitem"><p><code class="computeroutput">2</code> Файлу присвоен тег 2, в противном случае отобразится «<code class="computeroutput">-</code>».</p></li><li class="listitem"><p><code class="computeroutput">3</code> Файлу присвоен тег 3, в противном случае отобразится «<code class="computeroutput">-</code>».</p></li></ul></div><pre class="screen" width="65"><code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>ls</code></strong><code class="computeroutput">
  1-- 01 Intro.mp3

&gt; 12- 02 We Only Got This One.mp3
 *1-- 03 Outro.mp3</code></pre><p>В этом примере все файлы имеют тег 1, второй файл также имеет тег 2, и он выделен. Третий файл изменён. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-save"></a>Сохранить изменённые файлы</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">save</code> </p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-select"></a>Выбрать файл</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">select</code>  [ all  |   none  |   first  |   previous  |   next  |   <em class="replaceable"><code>ФАЙЛ</code></em>... ]</p></div><p>Чтобы выделить все файлы, введите команду <strong class="userinput"><code>select all</code></strong>; чтобы снять выделение со всех файлов, введите команду <strong class="userinput"><code>select none</code></strong>. Чтобы последовательно перебрать файлы в текущем каталоге, воспользуйтесь командой <strong class="userinput"><code>select first</code></strong>, затем передвигайтесь вперёд по списку с помощью команды <strong class="userinput"><code>select next</code></strong>, либо назад с помощью команды <strong class="userinput"><code>select previous</code></strong>. Чтобы добавить к текущему выделению отдельные файлы, укажите их названия напрямую. Поддерживается использование подстановочных знаков, например, возможно указать <strong class="userinput"><code>select *.mp3</code></strong> для выделения всех MP3-файлов в текущем каталоге. </p><pre class="screen" width="65"><code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>select first</code></strong>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>ls</code></strong><code class="computeroutput">

&gt; 1-- 01 Intro.mp3
  12- 02 We Only Got This One.mp3
 *1-- 03 Outro.mp3</code>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>select next</code></strong>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>ls</code></strong><code class="computeroutput">
  1-- 01 Intro.mp3

&gt; 12- 02 We Only Got This One.mp3
 *1-- 03 Outro.mp3</code>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>select *.mp3</code></strong>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>ls</code></strong><code class="computeroutput">

&gt; 1-- 01 Intro.mp3

&gt; 12- 02 We Only Got This One.mp3

&gt;*1-- 03 Outro.mp3</code></pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-tag"></a>Выбрать тег</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">tag</code>  [<em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>]</p></div><p>Некоторые команды имеют необязательный параметр <em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>, который позволяет указать, над каким тегом следует выполнять команду (1, 2 или 3). Если этот параметр не указан, будут использованы номера тегов по умолчанию, которые указываются с помощью этой команды. Сразу после запуска будет установлено значение <code class="literal">12</code>, то есть данные будут прочитаны из тега 2, если он будет обнаружен, либо из тега 1, если тег 2 обнаружен не будет; изменения будут вноситься в тег 2. Для параметра <code class="option"><em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em></code> возможно указать значение <strong class="userinput"><code>1</code></strong>, <strong class="userinput"><code>2</code></strong> или <strong class="userinput"><code>3</code></strong> для работы только с соответствующим тегом. Если параметр не указан, будет отображаться текущее значение параметра номеров тегов. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-get"></a>Получить фрейм тега</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">get</code>  [ all  |   <em class="replaceable"><code>НАЗВАНИЕ-ФРЕЙМА</code></em> ] [<em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>]</p></div><p>Эта команда используется для чтения значения определённого фрейма тега или получения информации обо всех фреймах тега (если не указан аргумент или используется параметр <code class="option">all</code>). Изменённые фреймы отмечены символом «<code class="computeroutput">*</code>». </p><pre class="screen" width="65"><code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>get</code></strong><code class="computeroutput">
Файл: MPEG 1 Layer 3 192 kbps 44100 Hz Joint Stereo
  Название: 01 Intro.mp3
Тег 1: ID3v1.1
  Заголовок            Intro
  Исполнитель       One Hit Wonder
  Альбом                 Let's Tag
  Дата                     2013
  Номер дорожки   1
  Жанр                    Pop</code>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>get title</code></strong><code class="computeroutput">
Intro</code></pre><p>Чтобы сохранить содержимое фрейма изображения в файл, воспользуйтесь командой </p><pre class="screen" width="65"><strong class="userinput"><code>get picture:'/путь/к/каталогу.jpg'</code></strong></pre><p>
</p><p>Чтобы сохранить синхронизированный текст песни в файл LRC, воспользуйтесь командой </p><pre class="screen" width="65"><strong class="userinput"><code>get SYLT:'/путь/к/тексту.lrc'</code></strong></pre><p>
</p><p>Возможно получить данные только из определённого поля фрейма, например, <strong class="userinput"><code>get POPM.Email</code></strong> для поля Email во фрейме Popularimeter. Если в файле хранится несколько фреймов одного типа, следует указать соответствующий индекс в квадратных скобках: например, название первого из исполнителей в комментарии Vorbis возможно получить с помощью команды <strong class="userinput"><code>get performer[0]</code></strong>, а второго — с помощью команды<strong class="userinput"><code>get performer[1]</code></strong>. </p><p>Псевдополе под названием «selected» позволяет проверить, выделен ли фрейм: например, команда <strong class="userinput"><code>get artist.selected</code></strong> вернёт значение <code class="computeroutput">1</code>, если фрейм исполнителя выделен, либо <code class="computeroutput">0</code>, если фрейм не выделен. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-set"></a>Указать фрейм тега</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">set</code>  {<em class="replaceable"><code>НАЗВАНИЕ-ФРЕЙМА</code></em>} {<em class="replaceable"><code>ЗНАЧЕНИЕ-ФРЕЙМА</code></em>} [<em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>]</p></div><p>Эта команда позволяет указать значение определённого фрейма тега. Если параметр <em class="replaceable"><code>ЗНАЧЕНИЕ-ФРЕЙМА</code></em> не указан, фрейм будет удалён. </p><pre class="screen" width="65"><code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>set remixer 'O.H. Wonder'</code></strong></pre><p>Чтобы установить содержимое фрейма изображения из файла, воспользуйтесь командой </p><pre class="screen" width="65"><strong class="userinput"><code>set picture:'/путь/к/каталогу.jpg' 'Описание изображения'</code></strong></pre><p>
</p><p>Чтобы установить синхронизированный текст песни из файла LRC, воспользуйтесь командой </p><pre class="screen" width="65"><strong class="userinput"><code>set SYLT:'/путь/к/тексту.lrc' 'Описание текста'</code></strong></pre><p>
</p><p>Чтобы указать определённое поле внутри фрейма, следует указать название поля после точки. Например, чтобы установить значение поля счётчика фрейма Popularimeter, воспользуйтесь командой </p><pre class="screen" width="65"><strong class="userinput"><code>set POPM.Counter 5</code></strong></pre><p>
</p><p>Спецификация полей применяется в том случае, когда нужно создать пользовательский фрейм TXXX с описанием «rating» вместо стандартного фрейма Popularimeter (такой метод оценки используется некоторыми модулями). Фрейм оценки TXXX возможно создать с помощью <span class="command"><strong>kid3-cli</strong></span>, однако сначала следует создать фрейм TXXX с описанием «rating», а затем указать значение оценки для этого фрейма. </p><pre class="screen" width="65">
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>set rating ""</code></strong>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>set TXXX.Description rating</code></strong>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>set rating 5</code></strong>
</pre><p> Первая команда удалит существующий фрейм POPM, потому что, если такой фрейм существует, параметр <strong class="userinput"><code>set rating 5</code></strong> установит значение фрейма POPM, а не TXXX. Другой способ установки значения — это использование команды <strong class="userinput"><code>set TXXX.Text 5</code></strong>, но она сработает корректно только в том случае, если нет других фреймов TXXX. </p><p>Чтобы установить несколько фреймов одинакового типа, укажите индекс в скобках; например, чтобы указать несколько исполнителей в комментарии Vorbis, воспользуйтесь командой </p><pre class="screen" width="65"><code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>set performer[0] 'Liza don Getti (soprano)'</code></strong>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>set performer[1] 'Joe Barr (piano)'</code></strong>
</pre><p>
</p><p>Чтобы выделить определённые фреймы перед действиями копирования, вставки или удаления, воспользуйтесь псевдополем «selected». Обычно выделены все фреймы. Чтобы снять выделение со всех фреймов, воспользуйтесь командой <strong class="userinput"><code>set '*.selected' 0</code></strong>, а затем, например, для выделения фрейма исполнителя, командой <strong class="userinput"><code>set artist.selected 1</code></strong>. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-revert"></a>Отменить изменения</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">revert</code> </p></div><p>Отменить все изменения в выбранных файлах (или во всех файлах, если файлы не выбраны). </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-import"></a>Импортировать из файла</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">import</code>  {<em class="replaceable"><code>ФАЙЛ</code></em>} {<em class="replaceable"><code>НАЗВАНИЕ-ФОРМАТА</code></em>} [<em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>]</p></div><p>Теги будут импортированы из файла <em class="replaceable"><code>ФАЙЛ</code></em> в формате под названием <em class="replaceable"><code>НАЗВАНИЕ-ФОРМАТА</code></em> (например, <strong class="userinput"><code>«CSV unquoted»</code></strong>, подробные сведения доступны в описании функции «<a class="link" href="#import-text">Импорт</a>»). </p><p>Если указать <strong class="userinput"><code>tags</code></strong> для параметра <em class="replaceable"><code>ФАЙЛ</code></em>, теги будут импортированы из других тегов. Вместо параметра <em class="replaceable"><code>НАЗВАНИЕ-ФОРМАТА</code></em> следует указать параметры <em class="replaceable"><code>ИСТОЧНИК</code></em> и <em class="replaceable"><code>ИЗВЛЕЧЕНИЕ</code></em>, подробные сведения доступны в описании функции «<a class="link" href="#import-tags">Импорт из тегов...</a>». Чтобы применить импорт из тегов к выделенным файлам, используйте <strong class="userinput"><code>tagsel</code></strong> вместо <strong class="userinput"><code>tags</code></strong>. Эта функция также поддерживает вывод полученного значения: укажите параметр <em class="replaceable"><code>ИЗВЛЕЧЕНИЕ</code></em> со значением <strong class="userinput"><code>%{__return}(.+)</code></strong>. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-autoimport"></a>Автоматический импорт</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">autoimport</code>  [<em class="replaceable"><code>ИМЯ-ПРОФИЛЯ</code></em>] [<em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>]</p></div><p>Пакетный импорт на основе профиля <em class="replaceable"><code>НАЗВАНИЕ-ПРОФИЛЯ</code></em> (смотрите описание функции «<a class="link" href="#batch-import">Автоматический импорт</a>»; если профиль не указан, используется <strong class="userinput"><code>«All»</code></strong>). </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-albumart"></a>Загрузить обложку</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">albumart</code>  {<em class="replaceable"><code>URL-АДРЕС</code></em>} [all]</p></div><p>Установить обложку альбома путём загрузки изображения с адреса <em class="replaceable"><code>URL-адрес</code></em>. Правила, определённые в диалоге «<a class="link" href="#browse_pictures">Найти обложки</a>», используются для преобразования обычных <acronym class="acronym">URL</acronym>-адресов (например, Amazon) в адрес изображения. Чтобы установить обложку альбома из локального файла изображения, воспользуйтесь командой <a class="link" href="#cli-set" title="Указать фрейм тега">set</a>. </p><pre class="screen" width="65"><code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>albumart
http://www.amazon.com/Versus-World-Amon-Amarth/dp/B000078DOC</code></strong></pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-export"></a>Экспортировать в файл</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">export</code>  {<em class="replaceable"><code>ФАЙЛ</code></em>} {<em class="replaceable"><code>НАЗВАНИЕ-ФОРМАТА</code></em>} [<em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>]</p></div><p>Экспорт тегов в файл <em class="replaceable"><code>ФАЙЛ</code></em> в формате под названием <em class="replaceable"><code>НАЗВАНИЕ-ФОРМАТА</code></em> (например, <strong class="userinput"><code>«CSV unquoted»</code></strong>, смотрите описание функции «<a class="link" href="#export">Экспорт</a>»). </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-playlist"></a>Создать список воспроизведения</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">playlist</code> </p></div><p>Создать список воспроизведения в формате, указанном в параметрах, подробные сведения доступны в описании функции «<a class="link" href="#create-playlist">Создать список воспроизведения</a>». </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-filenameformat"></a>Применить формат имени файла</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">filenameformat</code> </p></div><p>Применить формат имени файла, указанный в параметрах, подробные сведения доступны в описании функции «<a class="link" href="#apply-filename-format">Применить формат имени файла</a>». </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-tagformat"></a>Применить формат тега</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">tagformat</code> </p></div><p>Применить формат тега, указанный в параметрах, подробные сведения доступны в описании функции «<a class="link" href="#apply-tag-format">Применить формат тега</a>». </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-textencoding"></a>Применить кодировку текста</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">textencoding</code> </p></div><p>Применить кодировку текста, указанную в параметрах, подробные сведения доступны в описании функции «<a class="link" href="#apply-text-encoding">Применить кодировку текста</a>». </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-renamedir"></a>Переименовать каталог</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">renamedir</code>  [<em class="replaceable"><code>ФОРМАТ</code></em>] [ create  |   rename  |   dryrun ] [<em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>]</p></div><p>Переименовать или создать каталоги на основе значений в тегах в соответствии с заданным значением параметра <em class="replaceable"><code>ФОРМАТ</code></em> (например, <strong class="userinput"><code>%{artist} - %{album}</code></strong>, подробные сведения доступны в описании функции «<a class="link" href="#rename-directory">Переименовать каталог</a>»). Если формат не задан, будет использован формат, указанный в диалоге <span class="guilabel">Переименовать каталог</span>. Режим по умолчанию — <code class="option">rename</code>; для создания каталогов — <code class="option">create</code> (следует указать явным образом). Действия по переименованию будут произведены немедленно; чтобы просто посмотреть, что должно быть сделано, воспользуйтесь опцией <code class="option">dryrun</code>. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-numbertracks"></a>Пронумеровать дорожки</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">numbertracks</code>  [<em class="replaceable"><code>НОМЕР-ДОРОЖКИ</code></em>] [<em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>]</p></div><p>Пронумеровать выделенные дорожки, начиная с номера <em class="replaceable"><code>НОМЕР-ДОРОЖКИ</code></em> (если параметр не указан, нумерация начнётся с цифры <code class="literal">1</code>). </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-filter"></a>Фильтр</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">filter</code>  [ <em class="replaceable"><code>ИМЯ-ФИЛЬТРА</code></em>  |   <em class="replaceable"><code>ФОРМАТ-ФИЛЬТРА</code></em> ]</p></div><p>Отфильтровать файлы таким образом, чтобы отобразились только файлы, соответствующие фильтру <em class="replaceable"><code>ФОРМАТ-ФИЛЬТРА</code></em>. Вместо выражения фильтра возможно использовать название предустановленного фильтра (например, <strong class="userinput"><code>«Несоответствие тега названию файла»</code></strong>), подробные сведения доступны в описании функции «<a class="link" href="#filter">Фильтр</a>». </p><pre class="screen" width="65"><code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>filter '%{title} contains "tro"'</code></strong><code class="computeroutput">
Запуск
  /home/urs/One Hit Wonder - Let's Tag
+ 01 Intro.mp3
- 02 We Only Got This One.mp3
+ 03 Outro.mp3
Завершено</code>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>ls</code></strong><code class="computeroutput">
  1-- 01 Intro.mp3
  1-- 03 Outro.mp3</code>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>filter All</code></strong><code class="computeroutput">
Запуск
  /home/urs/One Hit Wonder - Let's Tag
+ 01 Intro.mp3
+ 02 We Only Got This One.mp3
+ 03 Outro.mp3
Завершено</code>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>ls</code></strong><code class="computeroutput">
  1-- 01 Intro.mp3
  12- 02 We Only Got This One.mp3
  1-- 03 Outro.mp3</code></pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-to24"></a>Преобразовать ID3v2.3 в ID3v2.4</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">to24</code> </p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-to23"></a>Преобразовать ID3v2.4 в ID3v2.3</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">to23</code> </p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-fromtag"></a>Имя файла из тега</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">fromtag</code>  [<em class="replaceable"><code>ФОРМАТ</code></em>] [<em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>]</p></div><p>Указать имена выбранных файлов на основе тегов, например, <strong class="userinput"><code>fromtag '%{track} - %{title}' 1</code></strong>. Если формат не указан, будет использоваться формат, установленный в графическом интерфейсе. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-totag"></a>Тег из имени файла</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">totag</code>  [<em class="replaceable"><code>ФОРМАТ</code></em>] [<em class="replaceable"><code>НОМЕРА-ТЕГОВ</code></em>]</p></div><p>Установить содержание фреймов тегов на основе названий файлов, например, <strong class="userinput"><code>totag '%{albumartist} - %{album}/%{track} %{title}' 2</code></strong>. Если формат не указан, будет использован формат, установленный в графическом интерфейсе. Если формат названия файла не соответствует указанному шаблону, будет предпринята попытка использовать другие распространённые форматы. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-syncto"></a>Тег в другой тег</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">syncto</code>  {<em class="replaceable"><code>НОМЕР-ТЕГА</code></em>}</p></div><p>Копировать фреймы тега из одного тега в другой; например, чтобы заполнить тег ID3v2 данными из тега ID3v1, воспользуйтесь командой <strong class="userinput"><code>syncto 2</code></strong>. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-copy"></a>Копировать</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">copy</code>  [<em class="replaceable"><code>НОМЕР-ТЕГА</code></em>]</p></div><p>Скопировать фреймы тега выбранного файла во внутренний буфер обмена. Команда <span class="command"><strong>paste</strong></span> позволяет установить эти фреймы в другой файл. </p><p>Чтобы скопировать только подмножество фреймов, воспользуйтесь псевдополем «selected» с командой <span class="command"><strong>set</strong></span>. Например, чтобы скопировать только фреймы номера диска и авторских прав, воспользуйтесь командой </p><pre class="screen" width="65"><strong class="userinput"><code>set '*.selected' 0</code></strong>
<strong class="userinput"><code>set discnumber.selected 1</code></strong>
<strong class="userinput"><code>set copyright.selected 1</code></strong>
<strong class="userinput"><code>copy</code></strong>
</pre><p>
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-paste"></a>Вставить</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">paste</code>  [<em class="replaceable"><code>НОМЕР-ТЕГА</code></em>]</p></div><p>Заполнить данные фреймов тегов выделенных файлов на основе содержимого буфера <span class="command"><strong>copy</strong></span>. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-remove"></a>Убрать</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">remove</code>  [<em class="replaceable"><code>НОМЕР-ТЕГА</code></em>]</p></div><p>Удалить тег. </p><p>Возможно удалить только подмножество фреймов путём их выделения, как указано в описании <a class="link" href="#cli-copy" title="Копировать">команды <span class="command"><strong>copy</strong></span></a>. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="cli-config"></a>Настроить Kid3</h3></div></div></div><div class="cmdsynopsis"><p><code class="command">config</code>  [<em class="replaceable"><code>ПАРАМЕТР</code></em>] [<em class="replaceable"><code>ЗНАЧЕНИЕ</code></em>]</p></div><p>Запрос или установка параметров конфигурации. </p><p><em class="replaceable"><code>ПАРАМЕТР</code></em> состоит из имени группы и имени свойства, разделённых точкой. Если <em class="replaceable"><code>ПАРАМЕТР</code></em> не задан, будут отображаться все доступные группы. Если задано только имя группы, будут отображаться все доступные свойства группы. Если задана группа и свойство, будет отображаться текущее настроенное значение. Для изменения параметра возможно передать новое значение в качестве второго аргумента. </p><p>Если значение параметра представлено в виде списка, все элементы списка должны быть указаны как аргументы. Это значит, что для добавления элемента к существующему списку элементов необходимо передать все существующие элементы, указав после них новый элемент. В таком случае лучше использовать режим JSON; это позволит скопировать текущий список и добавить новый элемент. </p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="kid3-cli-examples"></a>Примеры</h2></div></div></div><p>Установить заголовок, содержащий апостроф. Команды с параметром <em class="parameter"><code>-c</code></em>, которые передаются <span class="command"><strong>kid3-cli</strong></span>, должны быть заключены в кавычки, если они состоят из нескольких слов. Если такая команда сама по себе содержит аргумент с пробелами, его тоже следует заключить в кавычки. В командных оболочках <span class="trademark">UNIX</span>® возможно использовать одинарные или двойные кавычки, но в командной строке Windows важно использовать в качестве наружных двойные кавычки, а внутренних — одинарные. Если в тексте внутри одинарных кавычек содержатся ещё одни одинарные кавычки, их следует экранировать с помощью символа обратной косой черты, как это показано в следующем примере:</p><pre class="screen" width="65"><strong class="userinput"><code>kid3-cli -c "set title 'I\'ll be there for you'" /путь/к/каталогу</code></strong></pre><p>Установить обложку альбома во всех файлах каталога с помощью функции пакетного импорта:</p><pre class="screen" width="65"><strong class="userinput"><code>kid3-cli -c "autoimport 'Cover Art'" /путь/к/каталогу</code></strong></pre><p>Удалить фреймы комментариев и применить формат тега в обоих тегах всех MP3-файлов каталога:</p><pre class="screen" width="65"><strong class="userinput"><code>kid3-cli -c "set comment '' 1" -c "set comment '' 2" \
-c "tagformat 1" -c "tagformat 2" /путь/к/каталогу/*.mp3</code></strong></pre><p>Автоматически импортировать тег 2, синхронизировать с тегом 1, установить имена файлов из тега 2 и создать список воспроизведения:</p><pre class="screen" width="65"><strong class="userinput"><code>kid3-cli -c autoimport -c "syncto 1" -c fromtag -c playlist \
  /путь/к/каталогу/*.mp3</code></strong></pre><p>Выполнить для всех файлов с тегом ID3v2.4.0 преобразование в тег ID3v2.3.0 и удалить фрейм аранжировщика:</p><pre class="screen" width="65"><strong class="userinput"><code>kid3-cli -c "filter 'ID3v2.4.0 Tag'" -c "select all" -c to23 \
  -c "set arranger ''" /путь/к/каталогу</code></strong></pre><p>В этом сценарии Python <span class="command"><strong>kid3-cli</strong></span> используется для создания фреймов iTunNORM проверки звука iTunes на основе данных о выравнивании громкости.</p><pre class="programlisting">
#!/usr/bin/env python3
# Generate iTunes Sound Check from ReplayGain.
import os, sys, subprocess

def rg2sc(dirpath):
  for root, dirs, files in os.walk(dirpath):
    for name in files:
      if name.endswith(('.mp3', '.m4a', '.aiff', '.aif')):
        fn = os.path.join(root, name)
        rg = subprocess.check_output([
          'kid3-cli', '-c', 'get "replaygain_track_gain"',
           fn]).strip()
        if rg.endswith(b' dB'):
          rg = rg[:-3]
        try:
          rg = float(rg)
        except ValueError:
          print('Value %s of %s in not a float' % (rg, fn))
          continue
        sc = (' ' + ('%08X' % int((10 ** (-rg / 10)) * 1000) )) * 10
        subprocess.call([
          'kid3-cli', '-c', 'set iTunNORM "%s"' % sc, fn])

if __name__ == '__main__':
  rg2sc(sys.argv[1])

</pre></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="kid3-cli-json"></a>Формат <acronym class="acronym">JSON</acronym></h2></div></div></div><p>Чтобы упростить обработку результатов работы <span class="command"><strong>kid3-cli</strong></span>, рекомендуется получать вывод в формате <acronym class="acronym">JSON</acronym>. При запросе в формате <acronym class="acronym">JSON</acronym> ответ также будет сформирован в <acronym class="acronym">JSON</acronym>, при этом компактный формат запроса предоставит компактный ответ. Если в запросе содержится поле «id», он будет считаться запросом <acronym class="acronym">JSON</acronym>-RPC, и в ответе будет содержаться поле «jsonrpc» и значение «id» запроса. В формате запроса используются те же команды, что и в стандартном интерфейсе командной строки, поле «method» должно содержать команду, а параметры (если есть) будут заданы списком «params». Ответ содержит объект «result», который может быть пустым, если соответствующая команда <span class="command"><strong>kid3-cli</strong></span> не вернула никакого результата. Если произойдёт ошибка, будет возвращён объект «error» с полями «code» и «message», что стандартно для запросов <acronym class="acronym">JSON</acronym>-RPC. </p><pre class="screen" width="80"><code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>{"method":"set","params":["artist","An Artist"]}</code></strong>
<code class="computeroutput">{"result":null}</code>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>{"method":"get","params":["artist",2]}</code></strong>
<code class="computeroutput">{"result":"An Artist"}</code>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>{"method": "get", "params": ["artist"]}</code></strong>
<code class="computeroutput">{
    "result": "An Artist"
}
</code>
<code class="prompt">kid3-cli&gt; </code><strong class="userinput"><code>{"jsonrpc":"2.0","id":"123","method":"get","params":["artist"]}</code></strong>
<code class="computeroutput">{"id":"123","jsonrpc":"2.0","result":"An Artist"}</code>
</pre><p>

</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="credits"></a>Глава 5. Авторские права и лицензия</h1></div></div></div><p><span class="application">Kid3</span> </p><p>Автор программы: Urs Fleisch <code class="email">&lt;<a class="email" href="mailto:ufleisch at users.sourceforge.net">ufleisch at users.sourceforge.net</a>&gt;</code> </p><p>Перевод на русский язык: Мария Шикунова <code class="email">&lt;<a class="email" href="mailto:translation-team@basealt.ru">translation-team@basealt.ru</a>&gt;</code></p><p>Редактирование перевода: Олеся Герасименко<code class="email">&lt;<a class="email" href="mailto:translation-team@basealt.ru">translation-team@basealt.ru</a>&gt;</code></p><p><a class="ulink" href="http://www.gnu.org/licenses/licenses.html#FDL" target="_top">FDL</a></p><p><a class="ulink" href="http://www.gnu.org/licenses/licenses.html#GPL" target="_top">GPL</a></p></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="installation"></a>Приложение A. Установка</h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="sect1"><a href="#getting-kid3">Как получить <span class="application">Kid3</span></a></span></dt><dt><span class="sect1"><a href="#requirements">Требования</a></span></dt><dt><span class="sect1"><a href="#compilation">Сборка и установка</a></span></dt><dt><span class="sect1"><a href="#configuration">Настройка</a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="getting-kid3"></a>Как получить <span class="application">Kid3</span></h2></div></div></div><p>Приложение <span class="application">Kid3</span> доступно для загрузки на сайте <a class="ulink" href="https://kid3.kde.org" target="_top">https://kid3.kde.org</a>. </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="requirements"></a>Требования</h2></div></div></div><p>Для работы <span class="application">Kid3</span> требуется наличие библиотек <a class="ulink" href="https://www.qt.io" target="_top"><span class="trademark">Qt</span>™</a>. Рекомендуется использовать <a class="ulink" href="http://www.kde.org" target="_top"><span class="orgname">KDE</span></a>, но это не обязательно, так как <span class="application">Kid3</span> возможно собрать как программу, которая зависит только от <span class="trademark">Qt</span>™. <span class="application">Kid3</span> возможно собрать для систем, где доступны эти библиотеки, например, для GNU/<span class="trademark">Linux</span>®, <span class="trademark">Windows</span>® и <span class="trademark">macOS</span>®. Чтобы присваивать теги файлам Ogg/Vorbis, требуются библиотеки <a class="ulink" href="http://xiph.org/ogg/" target="_top">libogg</a>, <a class="ulink" href="http://xiph.org/vorbis/" target="_top">libvorbis и libvorbisfile</a>, для работы с файлами FLAC — <a class="ulink" href="http://flac.sourceforge.net" target="_top">libFLAC++ и libFLAC</a>. Библиотека <a class="ulink" href="http://id3lib.sourceforge.net" target="_top">id3lib</a> используется для работы с файлами MP3. Эти четыре формата также поддерживаются библиотекой <a class="ulink" href="http://taglib.github.io/" target="_top">TagLib</a>, которая может обрабатывать файлы Opus, MPC, APE, MP2, Speex, TrueAudio, WavPack, WMA, WAV, AIFF и модули трекеров. Для импорта акустических отпечатков используются <a class="ulink" href="http://acoustid.org/chromaprint" target="_top">Chromaprint</a> и <a class="ulink" href="http://libav.org/" target="_top">libav</a>. </p><p>Программа <span class="application">Kid3</span> доступна для большинства дистрибутивов <span class="trademark">Linux</span>®, <span class="trademark">Windows</span>® и <span class="trademark">macOS</span>®. Ссылки для загрузки находятся на сайте <a class="ulink" href="https://kid3.kde.org" target="_top"> https://kid3.kde.org</a>. </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="compilation"></a>Сборка и установка</h2></div></div></div><p>Приложение <span class="application">Kid3</span> может быть собрано с библиотеками <span class="orgname">KDE</span> или без них. Без библиотек <span class="orgname">KDE</span> <span class="application">Kid3</span> является простым приложением <span class="trademark">Qt</span>™, в котором отсутствуют некоторые возможности по настройке приложения и сеансов работы с ним. </p><p>Чтобы собрать версию с библиотеками <span class="orgname">KDE</span>, перейдите в каталог верхнего уровня и введите </p><pre class="screen" width="40"><code class="prompt">%</code> <strong class="userinput"><code>cmake .</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make install</code></strong>
</pre><p>
</p><p>Чтобы собрать нестандартную версию с использованием библиотек <span class="trademark">Qt</span>™ или <span class="orgname">KDE</span>, укажите соответствующие параметры <strong class="userinput"><code>cmake</code></strong>. </p><p>Если доступны не все библиотеки, программа <span class="application">Kid3</span> будет собрана с ограниченными функциональными возможностями, поэтому рекомендуется установить все необходимые пакеты перед сборкой. С другой стороны, с помощью параметров <strong class="userinput"><code>cmake</code></strong> возможно управлять перечнем библиотек, которые будут использованы при сборке. По умолчанию это: <strong class="userinput"><code>-DWITH_TAGLIB:BOOL=ON -DWITH_MP4V2:BOOL=OFF -DWITH_ID3LIB:BOOL=ON -DWITH_CHROMAPRINT:BOOL=ON -DWITH_VORBIS:BOOL=ON -DWITH_FLAC:BOOL=ON</code></strong>. Чтобы отключить эти опции, установите параметры в значение <strong class="userinput"><code>OFF</code></strong>. </p><p>Чтобы собрать <span class="application">Kid3</span> как приложение <span class="trademark">Qt</span>™ без библиотек <span class="orgname">KDE</span>, воспользуйтесь командой <strong class="userinput"><code>cmake</code></strong> с параметром <strong class="userinput"><code>-DWITH_APPS=Qt</code></strong>. Чтобы собрать <span class="application">Kid3</span> как приложение <span class="orgname">KDE</span> и <span class="trademark">Qt</span>™, укажите параметр <strong class="userinput"><code>-DWITH_APPS="Qt;KDE"</code></strong>. </p><p>Чтобы воспользоваться определённым набором установленных библиотек <span class="trademark">Qt</span>™, укажите <strong class="userinput"><code>-DQT_QMAKE_EXECUTABLE=/путь/к/qmake</code></strong>. </p><p>Создание пакетов RPM поддерживается файлом <code class="filename">kid3.spec</code>, для пакетов <acronym class="acronym"><span class="trademark">Debian</span>®</acronym> доступен сценарий <code class="filename">build-deb.sh</code>. </p><p>Приложение <span class="trademark">Qt</span>™ также возможно скомпилировать для <span class="trademark">Windows</span>® или <span class="trademark">macOS</span>®. Для загрузки и сборки всех необходимых библиотек и последующего создания пакета <span class="application">Kid3</span> предназначен сценарий <code class="filename">buildlibs.sh</code>. </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="configuration"></a>Настройка</h2></div></div></div><p>В версии для <span class="orgname">KDE</span> параметры программы будут храниться в файле <code class="filename">.config/kid3rc</code>. Если программа собрана как приложение <span class="trademark">Qt</span>™, параметры будут храниться в файле <code class="filename">.config/Kid3/Kid3.conf</code>. В операционной системе <span class="trademark">Windows</span>® конфигурация будет храниться в реестре, а в системе <span class="trademark">macOS</span>® — в файле plist. </p><p>Переменная среды <code class="varname">KID3_CONFIG_FILE</code> позволяет указать путь к файлу конфигурации.</p></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="dbus-interface"></a>Приложение B. Интерфейс <acronym class="acronym">D-Bus</acronym></h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="sect1"><a href="#dbus-examples">Примеры <acronym class="acronym">D-Bus</acronym></a></span></dt><dt><span class="sect1"><a href="#dbus-api">Программный интерфейс <acronym class="acronym">D-Bus</acronym></a></span></dt><dd><dl><dt><span class="sect2"><a href="#dbus-openDirectory">Открытие файлов или каталогов</a></span></dt><dt><span class="sect2"><a href="#dbus-unloadAllTags">Выгрузка тегов всех файлов, которые не были изменены или выбраны</a></span></dt><dt><span class="sect2"><a href="#dbus-save">Сохранение всех изменённых файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-getErrorMessage">Получение подробного сообщения об ошибке, предоставляемого некоторыми методами</a></span></dt><dt><span class="sect2"><a href="#dbus-revert">Отмена изменений в выбранных файлах</a></span></dt><dt><span class="sect2"><a href="#dbus-batchImport">Запуск автоматического пакетного импорта</a></span></dt><dt><span class="sect2"><a href="#dbus-importFromFile">Импорт тегов из файла</a></span></dt><dt><span class="sect2"><a href="#dbus-importFromTags">Импорт тегов из других тегов</a></span></dt><dt><span class="sect2"><a href="#dbus-importFromTagsToSelection">Импорт тегов из других тегов выбранных файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-downloadAlbumArt">Загрузка обложки альбома</a></span></dt><dt><span class="sect2"><a href="#dbus-exportToFile">Экспорт тегов в файл</a></span></dt><dt><span class="sect2"><a href="#dbus-createPlaylist">Создание нового списка воспроизведения</a></span></dt><dt><span class="sect2"><a href="#dbus-getPlaylistItems">Получение элементов списка воспроизведения</a></span></dt><dt><span class="sect2"><a href="#dbus-setPlaylistItems">Установка элементов списка воспроизведения</a></span></dt><dt><span class="sect2"><a href="#dbus-quit">Выход из приложения</a></span></dt><dt><span class="sect2"><a href="#dbus-selectAll">Выделение всех файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-deselectAll">Отмена выделения всех файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-firstFile">Установка первого файла в качестве текущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-previousFile">Установка предыдущего файла в качестве текущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-nextFile">Установка следующего файла в качестве текущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-selectFirstFile">Выделение первого файла</a></span></dt><dt><span class="sect2"><a href="#dbus-selectPreviousFile">Выделение предыдущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-selectNextFile">Выделение следующего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-selectCurrentFile">Выделение текущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-expandDirectory">Разворачивание или сворачивание текущего элемента, если это каталог</a></span></dt><dt><span class="sect2"><a href="#dbus-applyFilenameFormat">Применение формата имени файла</a></span></dt><dt><span class="sect2"><a href="#dbus-applyTagFormat">Применение формата тега</a></span></dt><dt><span class="sect2"><a href="#dbus-applyTextEncoding">Применить кодировку текста</a></span></dt><dt><span class="sect2"><a href="#dbus-setDirNameFromTag">Установка имени каталога из тегов</a></span></dt><dt><span class="sect2"><a href="#dbus-numberTracks">Установка последовательной нумерации дорожек для выделенных файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-filter">Фильтр файлов</a></span></dt><dt><span class="sect2"><a href="#dbus-convertToId3v24">Преобразование тегов ID3v2.3 в ID3v2.4</a></span></dt><dt><span class="sect2"><a href="#dbus-convertToId3v23">Преобразование тегов ID3v2.4 в ID3v2.3</a></span></dt><dt><span class="sect2"><a href="#dbus-getDirectoryName">Получение пути к каталогу</a></span></dt><dt><span class="sect2"><a href="#dbus-getFileName">Получение имени текущего файла</a></span></dt><dt><span class="sect2"><a href="#dbus-setFileName">Установка имени выделенного файла</a></span></dt><dt><span class="sect2"><a href="#dbus-setFileNameFormat">Установка формата, который будет использован при установке названий файлов на основе тегов</a></span></dt><dt><span class="sect2"><a href="#dbus-setFileNameFromTag">Установка названий выделенных файлов на основе тегов</a></span></dt><dt><span class="sect2"><a href="#dbus-getFrame">Получение значения фрейма</a></span></dt><dt><span class="sect2"><a href="#dbus-setFrame">Установка значения фрейма</a></span></dt><dt><span class="sect2"><a href="#dbus-getTag">Получение всех фреймов тега</a></span></dt><dt><span class="sect2"><a href="#dbus-getInformation">Получение технической информации о файле</a></span></dt><dt><span class="sect2"><a href="#dbus-setTagFromFileName">Установка тега на основе имени файла</a></span></dt><dt><span class="sect2"><a href="#dbus-setTagFromOtherTag">Установка тега на основе другого тега</a></span></dt><dt><span class="sect2"><a href="#dbus-copyTag">Копирование тега</a></span></dt><dt><span class="sect2"><a href="#dbus-pasteTag">Вставка тега</a></span></dt><dt><span class="sect2"><a href="#dbus-removeTag">Удаление тега</a></span></dt><dt><span class="sect2"><a href="#dbus-reparseConfiguration">Повторная обработка параметров конфигурации</a></span></dt><dt><span class="sect2"><a href="#dbus-playAudio">Воспроизведение выбранных файлов</a></span></dt></dl></dd></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="dbus-examples"></a>Примеры <acronym class="acronym">D-Bus</acronym></h2></div></div></div><p>В системах <span class="trademark">Linux</span>® управление <span class="application">Kid3</span> посредством сценариев доступно с помощью интерфейса <acronym class="acronym">D-Bus</acronym>. Привязки к <acronym class="acronym">D-Bus</acronym> позволяет создать сценарии на любом языке программирования (например, на Python). Эти сценарии затем возможно добавить в раздел <span class="guilabel">Команды пользователя</span> для расширения функциональных возможностей <span class="application">Kid3</span>. </p><p>Чтобы установить значение «One Hit Wonder» в поле исполнителя в теге 2, воспользуйтесь следующим кодом: </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Оболочка</span></dt><dd><pre class="programlisting">dbus-send --dest=org.kde.kid3 --print-reply=literal \
/Kid3 org.kde.Kid3.setFrame int32:2 string:'Artist' \
string:'One Hit Wonder'
</pre><p>или, что проще, примените команду <span class="trademark">Qt</span>™ <span class="command"><strong>qdbus</strong></span> (для изучения графического интерфейса приложения предназначена команда <span class="command"><strong>qdbusviewer</strong></span>): </p><pre class="programlisting">qdbus org.kde.kid3 /Kid3 setFrame 2 Artist \
'One Hit Wonder'
</pre></dd><dt><span class="term">Python</span></dt><dd><pre class="programlisting">import dbus
kid3 = dbus.SessionBus().get_object(
  'org.kde.kid3', '/Kid3')
kid3.setFrame(2, 'Artist', 'One Hit Wonder')
</pre></dd><dt><span class="term">Perl</span></dt><dd><pre class="programlisting">use Net::DBus;
$kid3 = Net::DBus-&gt;session-&gt;get_service(
  "org.kde.kid3")-&gt;get_object(
  "/Kid3", "org.kde.Kid3");
$kid3-&gt;setFrame(2, "Artist", "One Hit Wonder");
</pre></dd></dl></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="dbus-api"></a>Программный интерфейс <acronym class="acronym">D-Bus</acronym></h2></div></div></div><p>Программный интерфейс <acronym class="acronym">D-Bus</acronym> определён в файле <code class="filename">org.kde.Kid3.xml</code>.  В интерфейсе <span class="application">Kid3</span> предусмотрены следующие методы: </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-openDirectory"></a>Открытие файлов или каталогов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">openDirectory</strong>(</code></td><td><var class="pdparam">path</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">path</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>path</code></em></span></dt><dd><p>путь к файлу или каталогу</p></dd></dl></div><p>Возвращает true, если выполнено успешно.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-unloadAllTags"></a>Выгрузка тегов всех файлов, которые не были изменены или выбраны</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">unloadAllTags</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-save"></a>Сохранение всех изменённых файлов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">save</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает true, если выполнено успешно.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-getErrorMessage"></a>Получение подробного сообщения об ошибке, предоставляемого некоторыми методами</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">string <strong class="fsfunc">getErrorMessage</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает подробное сообщение об ошибке.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-revert"></a>Отмена изменений в выбранных файлах</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">revert</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-batchImport"></a>Запуск автоматического пакетного импорта</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">batchImport</strong>(</code></td><td><var class="pdparam">tagMask</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">profileName</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;<br /><code>string <var class="pdparam">profileName</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd><dt><span class="term"><em class="replaceable"><code>profileName</code></em></span></dt><dd><p>название профиля пакетного импорта для использования</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-importFromFile"></a>Импорт тегов из файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">importFromFile</strong>(</code></td><td><var class="pdparam">tagMask</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">path</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">fmtIdx</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;<br /><code>string <var class="pdparam">path</var></code>;<br /><code>int32 <var class="pdparam">fmtIdx</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd><dt><span class="term"><em class="replaceable"><code>path</code></em></span></dt><dd><p>путь к файлу</p></dd><dt><span class="term"><em class="replaceable"><code>fmtIdx</code></em></span></dt><dd><p>индекс формата</p></dd></dl></div><p>Возвращает true, если выполнено успешно.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-importFromTags"></a>Импорт тегов из других тегов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">importFromTags</strong>(</code></td><td><var class="pdparam">tagMask</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">source</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">extraction</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;<br /><code>string <var class="pdparam">source</var></code>;<br /><code>string <var class="pdparam">extraction</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd><dt><span class="term"><em class="replaceable"><code>source</code></em></span></dt><dd><p>формат для получения исходного текста из тегов</p></dd><dt><span class="term"><em class="replaceable"><code>extraction</code></em></span></dt><dd><p>регулярное выражение с названиями фреймов и группами скобок для извлечения совпадений из исходного текста</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-importFromTagsToSelection"></a>Импорт тегов из других тегов выбранных файлов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">array <strong class="fsfunc">importFromTagsToSelection</strong>(</code></td><td><var class="pdparam">tagMask</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">source</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">extraction</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;<br /><code>string <var class="pdparam">source</var></code>;<br /><code>string <var class="pdparam">extraction</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd><dt><span class="term"><em class="replaceable"><code>source</code></em></span></dt><dd><p>формат для получения исходного текста из тегов</p></dd><dt><span class="term"><em class="replaceable"><code>extraction</code></em></span></dt><dd><p>регулярное выражение с названиями фреймов и группами скобок для извлечения совпадений из исходного текста</p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>returnValues</code></em></span></dt><dd><p>извлечённое значение для «%{__return}(.+)»</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-downloadAlbumArt"></a>Загрузка обложки альбома</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">downloadAlbumArt</strong>(</code></td><td><var class="pdparam">url</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">allFilesInDir</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">url</var></code>;<br /><code>boolean <var class="pdparam">allFilesInDir</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>url</code></em></span></dt><dd><p><acronym class="acronym">URL</acronym>-адрес файла изображения или источника изображения</p></dd><dt><span class="term"><em class="replaceable"><code>allFilesInDir</code></em></span></dt><dd><p>true, если изображение следует добавить во все файлы в каталоге</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-exportToFile"></a>Экспорт тегов в файл</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">exportToFile</strong>(</code></td><td><var class="pdparam">tagMask</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">path</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">fmtIdx</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;<br /><code>string <var class="pdparam">path</var></code>;<br /><code>int32 <var class="pdparam">fmtIdx</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd><dt><span class="term"><em class="replaceable"><code>path</code></em></span></dt><dd><p>путь к файлу</p></dd><dt><span class="term"><em class="replaceable"><code>fmtIdx</code></em></span></dt><dd><p>индекс формата</p></dd></dl></div><p>Возвращает true, если выполнено успешно.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-createPlaylist"></a>Создание нового списка воспроизведения</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">createPlaylist</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает true, если выполнено успешно.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-getPlaylistItems"></a>Получение элементов списка воспроизведения</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">array <strong class="fsfunc">getPlaylistItems</strong>(</code></td><td><var class="pdparam">path</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">path</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>path</code></em></span></dt><dd><p>путь к файлу списка воспроизведения</p></dd></dl></div><p>Возвращает список абсолютных путей к элементам списка воспроизведения.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-setPlaylistItems"></a>Установка элементов списка воспроизведения</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">setPlaylistItems</strong>(</code></td><td><var class="pdparam">path</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">items</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">path</var></code>;<br /><code>array <var class="pdparam">items</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>path</code></em></span></dt><dd><p>путь к файлу списка воспроизведения</p></dd><dt><span class="term"><em class="replaceable"><code>items</code></em></span></dt><dd><p>список абсолютных путей к элементам списка воспроизведения</p></dd></dl></div><p>Возвращает true, если выполнено успешно, и false, если не все элементы были найдены и добавлены или сохранение завершилось ошибкой.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-quit"></a>Выход из приложения</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">quit</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-selectAll"></a>Выделение всех файлов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">selectAll</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-deselectAll"></a>Отмена выделения всех файлов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">deselectAll</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-firstFile"></a>Установка первого файла в качестве текущего файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">firstFile</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает true, если первый файл существует.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-previousFile"></a>Установка предыдущего файла в качестве текущего файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">previousFile</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает true, если предыдущий файл существует.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-nextFile"></a>Установка следующего файла в качестве текущего файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">nextFile</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает true, если следующий файл существует.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-selectFirstFile"></a>Выделение первого файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">selectFirstFile</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает true, если первый файл существует.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-selectPreviousFile"></a>Выделение предыдущего файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">selectPreviousFile</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает true, если предыдущий файл существует.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-selectNextFile"></a>Выделение следующего файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">selectNextFile</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает true, если следующий файл существует.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-selectCurrentFile"></a>Выделение текущего файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">selectCurrentFile</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает true, если текущий файл существует.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-expandDirectory"></a>Разворачивание или сворачивание текущего элемента, если это каталог</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">expandDirectory</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Пункт списка файлов является каталогом, если getFileName() возвращает название, последний символ которого — косая черта, «/».</p><p>Возвращает true, если текущий элемент — каталог.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-applyFilenameFormat"></a>Применение формата имени файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">applyFilenameFormat</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-applyTagFormat"></a>Применение формата тега</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">applyTagFormat</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-applyTextEncoding"></a>Применить кодировку текста</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">applyTextEncoding</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-setDirNameFromTag"></a>Установка имени каталога из тегов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">setDirNameFromTag</strong>(</code></td><td><var class="pdparam">tagMask</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">format</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">create</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;<br /><code>string <var class="pdparam">format</var></code>;<br /><code>boolean <var class="pdparam">create</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd><dt><span class="term"><em class="replaceable"><code>format</code></em></span></dt><dd><p>формат имени каталога</p></dd><dt><span class="term"><em class="replaceable"><code>create</code></em></span></dt><dd><p>true для создания, false для переименования</p></dd></dl></div><p>Возвращает true, если выполнено успешно, в противном случае воспользуйтесь командой getErrorMessage() для получения сообщения об ошибке</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-numberTracks"></a>Установка последовательной нумерации дорожек для выделенных файлов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">numberTracks</strong>(</code></td><td><var class="pdparam">tagMask</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">firstTrackNr</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;<br /><code>int32 <var class="pdparam">firstTrackNr</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd><dt><span class="term"><em class="replaceable"><code>firstTrackNr</code></em></span></dt><dd><p>номер, который будет использоваться для первого файла</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-filter"></a>Фильтр файлов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">filter</strong>(</code></td><td><var class="pdparam">expression</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">expression</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>expression</code></em></span></dt><dd><p>фильтрующее выражение</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-convertToId3v24"></a>Преобразование тегов ID3v2.3 в ID3v2.4</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">convertToId3v24</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-convertToId3v23"></a>Преобразование тегов ID3v2.4 в ID3v2.3</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">convertToId3v23</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает true, если выполнено успешно.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-getDirectoryName"></a>Получение пути к каталогу</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">string <strong class="fsfunc">getDirectoryName</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает абсолютный путь к каталогу.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-getFileName"></a>Получение имени текущего файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">string <strong class="fsfunc">getFileName</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Возвращает абсолютное имя текущего файла. Если это каталог, оно будет завершаться символом «/».</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-setFileName"></a>Установка имени выделенного файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">setFileName</strong>(</code></td><td><var class="pdparam">name</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">name</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt><dd><p>название файла</p></dd></dl></div><p>Файл будет переименован при сохранении каталога.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-setFileNameFormat"></a>Установка формата, который будет использован при установке названий файлов на основе тегов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">setFileNameFormat</strong>(</code></td><td><var class="pdparam">format</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">format</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>format</code></em></span></dt><dd><p>формат названия файла</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-setFileNameFromTag"></a>Установка названий выделенных файлов на основе тегов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">setFileNameFromTag</strong>(</code></td><td><var class="pdparam">tagMask</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-getFrame"></a>Получение значения фрейма</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">string <strong class="fsfunc">getFrame</strong>(</code></td><td><var class="pdparam">tagMask</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">name</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;<br /><code>string <var class="pdparam">name</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd><dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt><dd><p>название фрейма (например, «artist»)</p></dd></dl></div><p>Чтобы сохранить двоичные данные (например, изображение) в файле, добавьте имя файла к имени фрейма, например: «Picture:/путь/к/файлу». Таким же образом возможно экспортировать синхронизированный текст песни, например: «SYLT:/путь/к/файлу». </p><p>Возвращает значение фрейма.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-setFrame"></a>Установка значения фрейма</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">boolean <strong class="fsfunc">setFrame</strong>(</code></td><td><var class="pdparam">tagMask</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">name</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">value</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;<br /><code>string <var class="pdparam">name</var></code>;<br /><code>string <var class="pdparam">value</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd><dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt><dd><p>название фрейма (например, «artist»)</p></dd><dt><span class="term"><em class="replaceable"><code>value</code></em></span></dt><dd><p>значение фрейма</p></dd></dl></div><p>Для тега 2 (<em class="parameter"><code>tagMask</code></em> 2): если фрейма с указанным именем не существует, будет добавлен новый фрейм; если значение параметра «value» пустое, фрейм будет удалён. Чтобы добавить двоичные данные (например, изображение), добавьте имя файла к имени фрейма, например: «Picture:/путь/к/файлу». Таким же образом возможно импортировать синхронизированный текст песни, например: «SYLT:/путь/к/файлу».</p><p>Возвращает true, если выполнено успешно.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-getTag"></a>Получение всех фреймов тега</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">array of string <strong class="fsfunc">getTag</strong>(</code></td><td><var class="pdparam">tagMask</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd></dl></div><p>Возвращает список с чередующимися названиями и значениями фреймов.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-getInformation"></a>Получение технической информации о файле</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">array of string <strong class="fsfunc">getInformation</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Свойствами являются Format, Bitrate, Samplerate, Channels, Duration, Channel Mode, VBR, Tag 1, Tag 2. Свойства, которые недоступны, будут пропущены.</p><p>Возвращает список с чередующимися названиями и значениями свойств.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-setTagFromFileName"></a>Установка тега на основе имени файла</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">setTagFromFileName</strong>(</code></td><td><var class="pdparam">tagMask</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-setTagFromOtherTag"></a>Установка тега на основе другого тега</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">setTagFromOtherTag</strong>(</code></td><td><var class="pdparam">tagMask</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-copyTag"></a>Копирование тега</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">copyTag</strong>(</code></td><td><var class="pdparam">tagMask</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-pasteTag"></a>Вставка тега</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">pasteTag</strong>(</code></td><td><var class="pdparam">tagMask</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-removeTag"></a>Удаление тега</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">removeTag</strong>(</code></td><td><var class="pdparam">tagMask</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>int32 <var class="pdparam">tagMask</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>tagMask</code></em></span></dt><dd><p>маска тега (бит 0 для тега 1, бит 1 для тега 2)</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-reparseConfiguration"></a>Повторная обработка параметров конфигурации</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">reparseConfiguration</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div><p>Автоматизированная обработка изменений в параметрах конфигурации доступна посредством внесения изменений в файл конфигурации с их последующей повторной обработкой.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="dbus-playAudio"></a>Воспроизведение выбранных файлов</h3></div></div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef"><strong class="fsfunc">playAudio</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></div></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="qml-interface"></a>Приложение C. Интерфейс QML</h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="sect1"><a href="#qml-examples">Примеры QML</a></span></dt><dt><span class="sect1"><a href="#qml-api">Программный интерфейс QML</a></span></dt><dd><dl><dt><span class="sect2"><a href="#qml-kid3script">Kid3Script</a></span></dt><dt><span class="sect2"><a href="#qml-script">Поддержка сценариев</a></span></dt><dt><span class="sect2"><a href="#qml-app">Контекст приложений</a></span></dt><dt><span class="sect2"><a href="#qml-configs">Объекты конфигурации</a></span></dt></dl></dd></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="qml-examples"></a>Примеры QML</h2></div></div></div><p>Чтобы вызвать окно сценариев QML, воспользуйтесь контекстным меню списка файлов; чтобы указать список сценариев, воспользуйтесь вкладкой <a class="link" href="#configure-user-actions-qml">Команды пользователя</a> диалога настройки. Установленные там сценарии возможно использовать в качестве примеров для создания собственных сценариев. QML использует синтаксис <span class="application">JavaScript</span>. Вот пример простого сценария: </p><pre class="programlisting">import Kid3 1.0

Kid3Script {
  onRun: {
    console.log("Hello world, folder is", app.dirName)
    Qt.quit()
  }
}
</pre><p>Если этот сценарий хранится по адресу <code class="filename">/путь/к/Example.qml</code>, команду пользователя возможно определить как <span class="command"><strong>@qml /путь/к/Example.qml</strong></span> и назвать <strong class="userinput"><code>Проверка QML</code></strong>. Также следует установить флажок в столбце <span class="guilabel">Вывод</span>. Чтобы выполнить сценарий, выберите в контекстном меню списка файлов пункт <span class="guilabel">Проверка QML</span>. Вывод будет показан в окне программы. </p><p>Помимо этого, сценарий также возможно запустить независимо от <span class="application">Kid3</span> с помощью инструментов QML. </p><pre class="screen" width="80">
qml -apptype widget -I /usr/lib/kid3/plugins/imports /путь/к/Example.qml
</pre><p> или </p><pre class="screen" width="80">
qmlscene -I /usr/lib/kid3/plugins/imports /путь/к/Example.qml
</pre><p> В операционных системах <span class="trademark">Windows</span>® и <span class="trademark">macOS</span>® путь для импорта должен быть изменён таким образом, чтобы он относился к папке <code class="filename">imports</code>, расположенной в каталоге с установленной программой. Сценарии, запущенные вне <span class="application">Kid3</span>, будут использовать текущий каталог, поэтому путь следует изменить заранее. </p><p>Чтобы получить список заголовков тегов 2 из всех файлов в текущем каталоге, воспользуйтесь следующим сценарием: </p><pre class="programlisting">import Kid3 1.0

Kid3Script {
  onRun: {
    app.firstFile()
    do {
      if (app.selectionInfo.tag(Frame.Tag_2).tagFormat) {
        console.log(app.getFrame(tagv2, "title"))
      }
    } while (app.nextFile())
  }
}
</pre><p>Если каталог содержит большое количество файлов, такой сценарий может на некоторое время заблокировать возможность использования интерфейса, поэтому для выполнения длительных действий следует периодически прерывать работу сценария. В альтернативном варианте, который приводится далее, обработка отдельного файла вынесена в функцию. В конце эта функция вызывает себя со временем ожидания в 1 миллисекунду, если имеются другие файлы, которые следует обработать. Такая реализация позволяет продолжать работать с графическим интерфейсом во время работы сценария. </p><pre class="programlisting">import Kid3 1.0

Kid3Script {
  onRun: {
    function doWork() {
      if (app.selectionInfo.tag(Frame.Tag_2).tagFormat) {
        console.log(app.getFrame(tagv2, "title"))
      }
      if (!app.nextFile()) {
        Qt.quit()
      } else {
        setTimeout(doWork, 1)
      }
    }

    app.firstFile()
    doWork()
  }
}
</pre><p>При использовании команды <span class="command"><strong>app.firstFile()</strong></span> вместе с командой <span class="command"><strong>app.nextFile()</strong></span> будут обработаны все файлы в текущем каталоге. Если требуется обработка только выделенных файлов, воспользуйтесь командами <span class="command"><strong>firstFile()</strong></span> и <span class="command"><strong>nextFile()</strong></span>, вспомогательными функциями компонента <code class="classname">Kid3Script</code>. В следующем примере представлен сценарий, который копирует только фреймы номера диска и авторских прав выделенного файла. </p><pre class="programlisting">import Kid3 1.1

Kid3Script {
  onRun: {
    function doWork() {
      if (app.selectionInfo.tag(Frame.Tag_2).tagFormat) {
        app.setFrame(tagv2, "*.selected", false)
        app.setFrame(tagv2, "discnumber.selected", true)
        app.setFrame(tagv2, "copyright.selected", true)
        app.copyTags(tagv2)
      }
      if (!nextFile()) {
        Qt.quit()
      } else {
        setTimeout(doWork, 1)
      }
    }

    firstFile()
    doWork()
  }
}
</pre><p>Другие примеры сценариев поставляются вместе с <span class="application">Kid3</span> в качестве команд пользователя. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="guilabel">ReplayGain to SoundCheck</span> (<code class="filename">ReplayGain2SoundCheck.qml</code>): создаёт данные для iTunNORM SoundCheck на основе фреймов данных о выравнивании громкости. </p></li><li class="listitem"><p><span class="guilabel">Resize Album Art</span> (<code class="filename">ResizeAlbumArt.qml</code>): изменяет размеры встроенных изображений обложек альбомов, если эти размеры превышают 500x500 пикселов. </p></li><li class="listitem"><p><span class="guilabel">Extract Album Art</span> (<code class="filename">ExtractAlbumArt.qml</code>): извлекает все встроенные изображения обложек без создания дубликатов. </p></li><li class="listitem"><p><span class="guilabel">Embed Album Art</span> (<code class="filename">EmbedAlbumArt.qml</code>): встраивает изображение обложки альбома из файлов изображений в аудиофайлы в том же каталоге. </p></li><li class="listitem"><p><span class="guilabel">Embed Lyrics</span> (<code class="filename">EmbedLyrics.qml</code>): получает несинхронизированный текст песни из веб-сервиса. </p></li><li class="listitem"><p><span class="guilabel">Text Encoding ID3v1</span> (<code class="filename">ShowTextEncodingV1.qml</code>): помогает определить кодировку тегов ID3v1, отображая содержание тегов в текущем файле во всех доступных кодировках. </p></li><li class="listitem"><p><span class="guilabel">ID3v1 to ASCII</span> (<code class="filename">Tag1ToAscii.qml</code>): преобразовывает все дополнительные символы латиницы в тегах ID3v1 в символы ASCII. </p></li><li class="listitem"><p><span class="guilabel">English Title Case</span> (<code class="filename">TitleCase.qml</code>): форматирует текст в тегах по правилам использования регистра символов английского языка. </p></li><li class="listitem"><p><span class="guilabel">Rewrite Tags</span> (<code class="filename">RewriteTags.qml</code>): перезаписывает все теги в выделенных файлах. </p></li><li class="listitem"><p><span class="guilabel">Export CSV</span> (<code class="filename">ExportCsv.qml</code>): рекурсивно экспортирует все теги во всех файлах в файл CSV. </p></li><li class="listitem"><p><span class="guilabel">Export Playlist Folder</span> (<code class="filename">ExportPlaylist.qml</code>): копирует все файлы из списка воспроизведения в каталог и переименовывает их в соответствии с их положением в списке. </p></li><li class="listitem"><p><span class="guilabel">QML Console</span> (<code class="filename">QmlConsole.qml</code>): вызывает простую консоль для работы с программным интерфейсом QML <span class="application">Kid3</span>. </p></li></ul></div><p>
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="qml-api"></a>Программный интерфейс QML</h2></div></div></div><p>С программным интерфейсом возможно ознакомиться во время использования консоли QML, которая доступна в качестве примера сценария с пользовательским интерфейсом. </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="qml-kid3script"></a>Kid3Script</h3></div></div></div><p><code class="classname">Kid3Script</code> — это обычный компонент QML, расположенный в каталоге модуля. Возможно использовать и любой другой компонент QML. Использование <code class="classname">Kid3Script</code> упрощает запуск функции сценария с помощью обработчика сигналов <code class="function">onRun</code>. Кроме того, он предлагает несколько функций: </p><pre class="programlisting">onRun: обработчик сигналов, который вызывается при запуске сценария
tagv1, tagv2, tagv2v1: постоянные для параметров тегов
script: доступ к функциям сценариев
configs: доступ к объектам конфигурации
getArguments(): список аргументов сценария
isStandalone(): true, если сценарий был запущен не в Kid3
setTimeout(callback, delay): запуск обратного вызова после задержки, указанной в миллисекундах
firstFile(): к первому выделенному файлу
nextFile(): к следующему выделенному файлу
</pre><p>

</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="qml-script"></a>Поддержка сценариев</h3></div></div></div><p>В <span class="application">JavaScript</span> и QML предусмотрен довольно ограниченный набор функций. Объект <code class="function">script</code> имеет несколько дополнительных методов, в частности: </p><pre class="programlisting">script.properties(obj): строка со свойствами Qt
script.writeFile(filePath, data): записать данные в файл, true, если успешно
script.readFile(filePath): прочитать данные из файла
script.removeFile(filePath): удалить файл, true, если успешно
script.fileExists(filePath): true, если файл существует
script.fileIsWritable(filePath): true, если файл доступен для записи
script.getFilePermissions(filePath): получить биты режима доступа к файлу
script.setFilePermissions(filePath, modeBits): указать биты режима доступа к файлу
script.classifyFile(filePath): получить класс файла (каталог — «/», символическая ссылка — «@», exe — «*»,
  файл « »)
script.renameFile(oldName, newName): переименовать файл, true, если успешно
script.copyFile(source, dest): скопировать файл, true, если успешно
script.makeDir(path): создать каталог, true, если успешно
script.removeDir(path): удалить каталог, true, если успешно
script.tempPath(): путь к временному каталогу
script.musicPath(): путь к каталогу с файлами музыки
script.listDir(path, [nameFilters], [classify]): список записей в каталоге
script.system(program, [аргументы], [миллисекунды]): синхронно запустить системную команду,
  [код выхода, стандартный вывод, стандартная ошибка], если не превышено время ожидания
script.systemAsync(program, [аргументы], [обратный вызов]): асинхронно запустить системную
команду, обратный вызов будет выполнен данными [код выхода, стандартный вывод, стандартная
ошибка]
script.getEnv(varName): получить значение переменной среды
script.setEnv(varName, value): указать значение переменной среды
script.getQtVersion(): строка версии Qt, например, «5.4.1»
script.getDataMd5(data): получить шестнадцатеричную строку хеша данных MD5
script.getDataSize(data): получить размер байтового массива
script.dataToImage(data, [формат]): создать изображение из байтов данных
script.dataFromImage(img, [формат]): получить байты данных из изображения
script.loadImage(filePath): загрузить изображение из файла
script.saveImage(img, filePath, [формат]): сохранить изображение в файл, true, если успешно
script.imageProperties(img): получить свойства изображения, карту, содержащую значения
  «width», «height», «depth» и «colorCount», возвращает пустое значение ,если изображение недействительно
script.scaleImage(img, width, [высота]): масштабировать изображение, возвращает масштабированное изображение
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="qml-app"></a>Контекст приложений</h3></div></div></div><p>При использовании QML доступна большая часть функциональных возможностей <span class="application">Kid3</span>. Программный интерфейс похож на тот, что используется для <a class="link" href="#dbus-api" title="Программный интерфейс D-Bus"><acronym class="acronym">D-Bus</acronym></a>. Для получения более подробной информации обратитесь к соответствующим заметкам. </p><pre class="programlisting">app.openDirectory(path): открыть каталог
app.unloadAllTags(): выгрузить все теги
app.saveDirectory(): сохранить каталог
app.revertFileModifications(): отменить
app.importTags(tag, path, fmtIdx): импортировать файл
app.importFromTags(tag, source, extraction): импортировать из тегов
app.importFromTagsToSelection(tag, source, extraction): импортировать из тегов выделенных файлов
app.downloadImage(url, allFilesInDir): загрузить изображение
app.exportTags(tag, path, fmtIdx): экспортировать файл
app.writePlaylist(): записать список воспроизведения
app.getPlaylistItems(path): получить элементы списка воспроизведения
app.setPlaylistItems(path, items): установить элементы списка воспроизведения
app.selectAllFiles(): выделить все
app.deselectAllFiles(): снять выделение
app.firstFile([select], [onlyTaggedFiles]): до первого файла
app.nextFile([select], [onlyTaggedFiles]): до следующего файла
app.previousFile([select], [onlyTaggedFiles]): до предыдущего файла
app.selectCurrentFile([select]): выделить текущий файл
app.selectFile(path, [select]): выделить указанный файл
app.getSelectedFilePaths([onlyTaggedFiles]): получить пути к выделенным файлам
app.requestExpandFileList(): развернуть все
app.applyFilenameFormat(): применить формат имени файла
app.applyTagFormat(): применить формат тега
app.applyTextEncoding(): применить кодировку текста
app.numberTracks(nr, total, tag, [options]): пронумеровать дорожки
app.applyFilter(expr): отфильтровать
app.convertToId3v23(): преобразовать ID3v2.4.0 в ID3v2.3.0
app.convertToId3v24(): преобразовать ID3v2.3.0 в ID3v2.4.0
app.getFilenameFromTags(tag): получить имя файла из тегов
app.getTagsFromFilename(tag): получить теги из имени файла
app.getAllFrames(tag): получить объект со всеми фреймами
app.getFrame(tag, name): получить фрейм
app.setFrame(tag, name, value): установить фрейм
app.getPictureData(): получить данные из фрейма изображения
app.setPictureData(data): указать данные во фрейме изображения
app.copyToOtherTag(tag): скопировать данные тегов в другие теги
app.copyTags(tag): копировать
app.pasteTags(tag): вставить
app.removeTags(tag): удалить
app.playAudio(): воспроизвести
app.readConfig(): прочитать конфигурацию
app.applyChangedConfiguration(): применить конфигурацию
app.dirName: имя каталога
app.selectionInfo.fileName: имя файла
app.selectionInfo.filePath: абсолютный путь к файлу
app.selectionInfo.detailInfo: описание формата
app.selectionInfo.tag(Frame.Tag_1).tagFormat: формат тега 1
app.selectionInfo.tag(Frame.Tag_2).tagFormat: формат тега 2
app.selectionInfo.formatString(tag, format): заменить коды в строке формата
app.selectFileName(caption, dir, filter, saveFile): открыть диалоговое окно для
выбора файла
app.selectDirName(caption, dir): открыть диалоговое окно для выбора каталога
</pre><p>Для асинхронных действий обратные вызовы возможно связывать с сигналами. </p><pre class="programlisting">function automaticImport(profile) {
  function onAutomaticImportFinished() {
    app.batchImporter.finished.disconnect(onAutomaticImportFinished)
  }
  app.batchImporter.finished.connect(onAutomaticImportFinished)
  app.batchImport(profile, tagv2)
}

function renameDirectory(format) {
  function onRenameActionsScheduled() {
    app.renameActionsScheduled.disconnect(onRenameActionsScheduled)
    app.performRenameActions()
  }
  app.renameActionsScheduled.connect(onRenameActionsScheduled)
  app.renameDirectory(tagv2v1, format, false)
}
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="qml-configs"></a>Объекты конфигурации</h3></div></div></div><p>Доступ к различным разделам конфигурации обеспечивается с помощью методов <code class="function">configs</code>. Список их свойств возможно просмотреть с помощью консоли QML. </p><pre class="screen" width="80">
script.properties(configs.networkConfig())
</pre><p> Могут быть установлены такие свойства: </p><pre class="screen" width="80">configs.networkConfig().useProxy = false
</pre><p>
</p><pre class="programlisting">configs.batchImportConfig()
configs.exportConfig()
configs.fileConfig()
configs.filenameFormatConfig()
configs.filterConfig()
configs.findReplaceConfig()
configs.guiConfig()
configs.importConfig()
configs.mainWindowConfig()
configs.networkConfig()
configs.numberTracksConfig()
configs.playlistConfig()
configs.renDirConfig()
configs.tagConfig()
configs.tagFormatConfig()
configs.userActionsConfig()
</pre></div></div></div></div></body></html>